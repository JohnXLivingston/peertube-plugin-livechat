[{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/","title":"Documentation","tags":[],"description":"Plugin documentation","content":" Installation guide Plugin peertube-plugin-livechat installation guide\nKnown issues: CPU Compatibility For now, the plugin only works out of the box for x86_64 CPU architecture. Here are some instructions for other CPU architectures.\nUpgrade from version older than 6.0.0 Important notes when upgrading for an older version.\nAdmin documentation Plugin Peertube Livechat administration\nSettings Plugin Peertube Livechat settings\nAdvanced usage Some advanced features\nUsing Matterbridge Using Matterbridge to bridge with other chats\nUser documentation Plugin peertube-plugin-livechat user documentation\nModeration Plugin peertube-plugin-livechat moderation\nOBS Documentation to stream the chat content using OBS.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/installation/","title":"Installation guide","tags":[],"description":"Plugin peertube-plugin-livechat installation guide","content":" Before updating to a major release, please read the release notes and breaking changes list : CHANGELOG.\nTo install or update the plugin, just use the Peertube web admin interface.\nHere are some other more specific instructions:\nKnown issues: CPU Compatibility For now, the plugin only works out of the box for x86_64 CPU architecture. Here are some instructions for other CPU architectures.\nUpgrade from version older than 6.0.0 Important notes when upgrading for an older version.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/installation/cpu_compatibility/","title":"Known issues: CPU Compatibility","tags":[],"description":"For now, the plugin only works out of the box for x86_64 CPU architecture. Here are some instructions for other CPU architectures.","content":"The Prosody AppImage included in the plugin will only work on x86_64 CPU. It is not compatible with arm64 and other CPU architectures.\nFor now, I did not manage to make it work for other CPU architectures. If you want te be notified when it will be possible, you can subscribe and comment this issue.\nTo use the plugin, you will have to manually install Prosody on your server (see below).\nOnce it is done, you have to check Use system Prosody in the plugin settings.\nOn non-docker Peertube installation For standard installation, you just have to install the official prosody package for your linux distribution.\nFor example, on Debian/Ubuntu:\nsudo apt install prosody You can then disable the service that starts automatically when you install Prosody (the plugin will launch a Prosody process, there is no need for the service to run). For example, on Debian/Ubuntu (and other Systemd based linux distributions):\nsudo systemctl disable prosody \u0026amp;\u0026amp; sudo systemctl stop prosody Warning: do not disable Prosody if it is used for another service on your server, like for example Jitsi.\nDocker You will have to generate a Peertube image that includes Prosody in the same container that Peertube. I know this is not the standard way to do this with Docker, but keep in mind it is a temporary workaround.\nTo generate and use such an image, please refer to the Docker documentation. The Docker file to generate the image should be:\nFROM chocobozzz/peertube:production-bullseye RUN apt -y update \u0026amp;\u0026amp; apt install -y prosody \u0026amp;\u0026amp; apt -y clean Yunohost You have to disable metronome (the XMPP server provided by Yunohost), and install prosody.\nThis is already done by the Yunohost Peertube application, as it was required for the plugin before the v6.0.0. But it may be removed in a near feature (to avoid drawbacks of this method). I have to discuss with Yunohost team, to decide how we can do to minimize drawbacks, and maximize compatibility.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/user/moderation/","title":"Moderation","tags":[],"description":"Plugin peertube-plugin-livechat moderation","content":"You can access room settings and moderation tools by opening the chat in a new window, and using the dropdown menu at the top right.\nYou can list all existing chatrooms: in the plugin settings screen, there is a button «List rooms».\nYou can delete old rooms: join the room, and use the menu on the top to destroy the room.\nNotes All instance moderators and admins will be owner of created chat rooms. If the video is local (not from a remote Peertube), the video owner will be admin in the chat room.\nYou can use ConverseJS moderation commands to moderate the room. When you open the chat room in full screen, there will also be a menu with dedicated commands on the top right.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/user/obs/","title":"OBS","tags":[],"description":"Documentation to stream the chat content using OBS.","content":"OBS Overlay If you are using OBS for streaming, you can easily include the chat in your stream.\nYou can use the «share chat link» feature to generate an URL to your chat. The button should be near the chat if you are the video owner (unless it was desactivated by your server admins).\nCheck the «readonly» checkbox in the modal. Then use this link as a «web browser source» in OBS.\nYou can use the «Transparent background» to have a transparent background in OBS. If you want to customize the background transparency, you can add this CSS in your OBS browser source\u0026rsquo;s settings:\n:root { --livechat-transparent: rgba(255 255 255 / 90%) !important; } Note: you can customize colors. This is undocumented yet, but you can try this: in the modal, check «use curent theme colors», then you can try to manually change color values in the URL. You must use valid CSS color values, and they must be properly URL encoded.\nMixing multiple chats in your live stream You can use the social_stream browser extension to mix multiple chat source (from Peertube, Twitch, Youtube, Facebook, \u0026hellip;) and include their contents in your live stream. The compatibility with this plugin was added in recent versions.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/admin/settings/","title":"Settings","tags":[],"description":"Plugin Peertube Livechat settings","content":"This section describes the plugin settings page.\nList existing rooms When pressing the «List rooms» button, all existing chatrooms will be listed. You can then find them and moderated them.\nChat behaviour Room type You can choose here to have separate rooms for each video, or to group them by channel.\nAutomatically open the chat If checked, the chat will be loaded as soon as you are on the video page.\nShow the «open in new window» button If your web chat tool can be opened in a full window, you can add a button to do so.\nIf you are using an external web chat tool (see the chat mode «Use an external web chat tool»), maybe it will not work in fullscreen (for example if it needs to access the parent window to get video informations). You can disable this button by unchecking this settings.\nShow the «share chat link» button This feature enables a «share chat link» modal. With this modal, you can generate URLs to join the chat. The chat can be customized (readonly mode, use the current theme, \u0026hellip;).\nYou can for example generate a readonly URL and use it in OBS to integrate the chat in your live stream!\nThis settings allows you to choose who can access this modal.\nChats are only available for local videos Peertube is a federated service. Plugins are only available on the server you are browsing. So, if you are watching a remote video, only you will have the webchat, not users from remote instances. Therefore, this options is checked by default and prevent displaying a webchat for remote videos.\nUsers can activate the chat for their lives If checked, all live videos will have a checkbox in their properties for enabling the web chat. The video owner will be able to activate web chats.\nActivate chat for all lives The chat will be available for all Peertube live videos on your instance.\nActivate chat for all non-lives The chat will be available for all Peertube video that are not live.\nActivate chat for these videos You can choose some UUIDs for which the chat will be available. If you don\u0026rsquo;t want te enable the feature for all videos, you can use this field to list videos UUIDs. You can add comments: everything rights to the # character will be stripped off, as for empty lines.\nHide the chat for anonymous users If checked, anonymous Peertube users won\u0026rsquo;t see the chat.\nNote: for now this feature simply hide the chat. In a future release, the chat will be replaced by a message saying «please log in to [\u0026hellip;]». See v5.7.0 Release Notes for more information.\nTheming ConverseJS theme You can choose which theme to use for ConverseJS:\nPeertube theme: this is a special theme, made especially for peertube\u0026rsquo;s integration. Default ConverseJS theme: this is the default ConverseJS theme. ConverseJS concord theme: this is a theme provided by ConverseJS. Automatic color detection Try to auto detect colors from user\u0026rsquo;s current theme. When this settings is enabled, the plugin tries to auto-detect colors to apply to the chat theme. If this is not correctly working for some of your Peertube theme, you can disable this option.\nWebchat iframe style attribute You can add some custom styles that will be added to the iframe. For example a custom width:\nwidth:400px;\nChat server advanced settings Use system Prosody The plugin comes with an AppImage that is used to run the Prosody XMPP server. If this AppImage is not working, you can fallback to the Prosody that is packaged for your server. Just install the prosody package.\nThis settings should only be used if the plugin is broken, and waiting for a patch.\nDisable Websocket With Peertube \u0026gt;= 5.0.0, this plugin try to use Websocket connection for chatting. If the user\u0026rsquo;s browser or connection is not compatible, the browser will automatically fallback on the BOSH protocol.\nBut in rare case, this can fail. For example if you have a reverse proxy in front of Peertube that does not allow Websocket connection for plugins. In this case, you can check this settings to disable Websocket connections.\nProsody port This is the port that the Prosody server will use. By default it is set to 52800. If you want to use another port, just change the value here.\nPeertube URL for API calls In some rare cases, Prosody can\u0026rsquo;t call Peertube\u0026rsquo;s API from its public URI. If you have such issues (see the diagnostic tool result), you can try to set the value of this settings to http://localhost:9000 or http://127.0.0.1:9000 (supposing your Peertube is listening on port 9000. Check that in your Peertube config/production.yaml file).\nLog rooms content by default If checked, room content will be archived on the server by default. This means that users who join the chan will see messages sent before they have joined.\nPlease note that it is always possible to enable/disable the content logging for a specific room, by editing its properties.\nRoom logs expiration You can set here the expiration delay for room logs. See the online help for accepted values.\nEnable client to server connections This setting enable XMPP clients to connect to the builtin Prosody server. For now, this option only allows connections from localhost clients.\nAs example, this option can allow an instance of Matterbridge (once it could use anonymous login) on the same machine to bridge your chat with another services like a Matrix room.\nProsody client to server port The port that will be used by the c2s module of the builtin Prosody server. XMPP clients shall use this port to connect. Change it if this port is already in use on your server.\nEnable external XMPP components This settings enable XMPP external components to connect to the server. For now, this option only allows connections from localhost components.\nThis feature could be used to connect bridges or bots.\nMore informations on Prosody external components here.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/admin/advanced/","title":"Advanced usage","tags":[],"description":"Some advanced features","content":" Using Matterbridge Using Matterbridge to bridge with other chats\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/admin/","title":"Admin documentation","tags":[],"description":"Plugin Peertube Livechat administration","content":" Settings Plugin Peertube Livechat settings\nAdvanced usage Some advanced features\nUsing Matterbridge Using Matterbridge to bridge with other chats\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/user/","title":"User documentation","tags":[],"description":"Plugin peertube-plugin-livechat user documentation","content":" Moderation Plugin peertube-plugin-livechat moderation\nOBS Documentation to stream the chat content using OBS.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/installation/upgrade_before_6.0.0/","title":"Upgrade from version older than 6.0.0","tags":[],"description":"Important notes when upgrading for an older version.","content":"IMPORTANT NOTE Since version v6.0.0, this plugin does not need any Prosody installation.\nIf you were using this plugin before this version, and if you had installed Prosody manually, you can safely uninstall Prosody.\nIf you were using the custom Peertube docker image that is embedding Prosody, you can switch back to the official Peertube image.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/documentation/admin/advanced/matterbridge/","title":"Using Matterbridge","tags":[],"description":"Using Matterbridge to bridge with other chats","content":"Here is a tutorial to use Matterbridge with the plugin: https://gitlab.com/refrac/obs-matterbridge-overlay/-/blob/master/documentation/peertube.md\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/","title":"","tags":[],"description":"","content":"PeerTube plugin livechat This Peertube plugin is meant to provide chat system for Peertube videos.\nYou can use the language selector in the left menu to view this documentation in different languages.\nSee a demo.\nBefore updating to a major release, please read the release notes and breaking changes list : CHANGELOG.\nDocumentation Plugin documentation\nInstallation guide Plugin peertube-plugin-livechat installation guide\nKnown issues: CPU Compatibility For now, the plugin only works out of the box for x86_64 CPU architecture. Here are some instructions for other CPU architectures.\nUpgrade from version older than 6.0.0 Important notes when upgrading for an older version.\nAdmin documentation Plugin Peertube Livechat administration\nSettings Plugin Peertube Livechat settings\nAdvanced usage Some advanced features\nUser documentation Plugin peertube-plugin-livechat user documentation\nModeration Plugin peertube-plugin-livechat moderation\nOBS Documentation to stream the chat content using OBS.\nNew features requests / Bug tracking If you have new feature requests, bugs, or difficulties to setup the plugin, you can use the Github issue tracker.\nHere is a roadmap for upcoming features: ROADMAP.\nIf you are a webdesigner or a ConverseJS/Prosody/XMPP expert, and want to help improve this plugin, you are welcome.\nContact me If you have any question, or if you want to talk about this plugin, you can join this XMPP room with any Jabber client: plugin-livechat-support@room.im.yiny.org.\nIf you want to support the project financially, you can contact me by mail at git.[at].john-livingston.fr, or check my Liberapay profile.\nContribute Please refer to the page CONTRIBUTING.md.\nCredits package.json, COPYRIGHT and LICENSE files contain the license information for this software and its dependencies.\nThanks to David Revoy for his work on Peertube\u0026rsquo;s mascot, Sepia. The character design is under CC-By licence, and the SVG files used to create some logo and avatars in this plugin are GPLv3.0.\nThanks to Framasoft for making Peertube possible, and for the financial support.\nThanks to ritimo for the financial support.\nThanks to Code Lutin and Rétribution Copie Publique for the financial support.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/tags/","title":"Tags","tags":[],"description":"","content":""}]