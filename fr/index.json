[{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/intro/","title":"Introduction","tags":[],"description":"Introduction","content":"Qu\u0026rsquo;est ce que le plugin livechat ? Ce plugin pour Peertube permet d\u0026rsquo;intégrer un système de «chat» (clavardage) à coté des vidéos.\nPar défaut, une fois le plugin installé sur votre instance Peertube, un salon de discussion sera automatiquement créé pour chaque diffusion en direct.\nSur la capture d\u0026rsquo;écran ci-dessous, vous pouvez voir une page classique de vidéo Peertube, avec un salon de discussion sur la droite (cliquez sur l\u0026rsquo;image pour la voir en plein écran) :\nLe salon sera accessible pour les spectateur⋅rices, même si celleux-ci n\u0026rsquo;ont pas de compte sur votre instance. Ces utilisateur⋅rices «anonymes» auront juste à choisir un pseudonyme avant de pouvoir parler dans le tchat.\nPar défaut, le chat est affiché à côté de la vidéo. Mais vous pouvez l\u0026rsquo;ouvrir dans un autre onglet du navigateur, en utilisant le bouton situé au-dessus :\nVous pouvez tester le plugin livechat via cette page de démo.\n Installation En tant qu\u0026rsquo;administrateur⋅rice Peertube, vous pouvez installer ce plugin sur votre instance simplement en utilisant la boutique de plugin incluse dans l\u0026rsquo;interface d\u0026rsquo;administration de Peertube. Cherchez «livechat», puis cliquez sur «installer» : et voilà !\nPossibilités du livechat Le plugin a de nombreuses fonctionnalités avancées. Il utilise le standard XMPP «sous le capot», ce qui permet aux adminstrateur⋅rices d\u0026rsquo;activer des fonctionnalités avancées (se connecter en utilisant des clients XMPP, bots de tchat, pont vers d\u0026rsquo;autres protocoles, \u0026hellip;). Plus d\u0026rsquo;informations dans les sections correspondantes de cette documentation.\nFédération Peertube fait parti du fédiverse : vous pouvez créer un réseau d\u0026rsquo;instances Peertube, en partageant le contenu entre elles.\nCe plugin est capable de gérer la fédération : quand vous regardez un direct d\u0026rsquo;une instance distante, vous rejoindrez le tchat avec votre compte local. Vous serez automatiquement connecté avec votre pseudonyme et votre avatar.\nBien sûr, pour que la fédération fonctionne, le plugin doit être installé sur les deux instances.\nModération Parfois, vous devez protéger votre communauté contre les personnes mal intentionnées. En tant qu\u0026rsquo;administrateur⋅rice d\u0026rsquo;instance, vous pouvez choisir de désactiver la fédération pour le plugin livechat. Si des acteur⋅rices distant⋅es se comportent mal, les streameur⋅euses, les modérateur⋅rices et les administrateur⋅rices peuvent bannir ou mettre en sourdine des utilisateur⋅ices.\nPersistance du tchat En rejoignant un salon, vous verrez les anciens messages. Même ceux envoyés avant que vous ne rejoignez le salon.\nCe comportement peut changer salon par salon, et la durée de rétention peut être choisie par les administrateur⋅rices de l\u0026rsquo;instance.\nIntégrer le tchat dans vos directs Lorsque vous utilisez un logiciel tel que OBS pour votre diffusion en direct, vous pouvez intégrer le tchat dans le flux vidéo. C\u0026rsquo;est par exemple utile pour les rediffusions.\nDans la capture d\u0026rsquo;écran suivante, vous pouvez voir une rediffusion de direct où le contenu du tchat est inclus dans le bas de la vidéo :\nDans la capture d\u0026rsquo;écran suivante, vous pouvez voir une configuration OBS, où le chat est inclus en tant que source dans la scène actuelle (la couleur de fond peut être modifiée et peut être transparente) :\nAutres usages Par défaut, chaque streameur⋅euse peut activer/désactiver le tchat pour leurs directs.\nMais au niveau de l\u0026rsquo;instance, les administrateur⋅rices peuvent choisir d\u0026rsquo;activer le tchat pour toutes les vidéos (directs et/ou vidéo à la demande).\nVous pouvez également activer le tchat pour des vidéos à la demande spécifiques. C\u0026rsquo;est comme cela que fonctionne la page de démo : ce n\u0026rsquo;est pas un direct, mais j\u0026rsquo;ai activé le tchat spécifiquement pour cette vidéo.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/codeofconduct/","title":"Code de conduite","tags":[],"description":"Convention de Code de conduite Contributeur⋅rices","content":" Ce code de conduite est adapté du Contributor Covenant, version 2.1, disponible à l\u0026rsquo;adresse https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Les traductions sont disponibles à l\u0026rsquo;adresse https://www.contributor-covenant.org/translations. Les cas de comportements abusifs, harcelants ou tout autre comportement inacceptables peuvent être signalés aux dirigeant·e·s de la communauté responsables de l’application du code de conduite à git.[at].john-livingston.fr.\n Our Pledge We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.\nWe pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.\nOur Standards Examples of behavior that contributes to a positive environment for our community include:\n Demonstrating empathy and kindness toward other people Being respectful of differing opinions, viewpoints, and experiences Giving and gracefully accepting constructive feedback Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience Focusing on what is best not just for us as individuals, but for the overall community  Examples of unacceptable behavior include:\n The use of sexualized language or imagery, and sexual attention or advances of any kind Trolling, insulting or derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or email address, without their explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting  Enforcement Responsibilities Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.\nCommunity leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.\nScope This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.\nEnforcement Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement by mail at git.[at].john-livingston.fr. All complaints will be reviewed and investigated promptly and fairly.\nAll community leaders are obligated to respect the privacy and security of the reporter of any incident.\nEnforcement Guidelines Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:\n1. Correction Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.\nConsequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.\n2. Warning Community Impact: A violation through a single incident or series of actions.\nConsequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.\n3. Temporary Ban Community Impact: A serious violation of community standards, including sustained inappropriate behavior.\nConsequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.\n4. Permanent Ban Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.\nConsequence: A permanent ban from any sort of public interaction within the community.\nAttribution This Code of Conduct is adapted from the Contributor Covenant, version 2.1, available at https://www.contributor-covenant.org/version/2/1/code_of_conduct.html.\nCommunity Impact Guidelines were inspired by Mozilla\u0026rsquo;s code of conduct enforcement ladder.\nFor answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq. Translations are available at https://www.contributor-covenant.org/translations.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/","title":"Documentation","tags":[],"description":"Documentation du plugin","content":"  Documentation utilisateur⋅rice  Documentation utilisateur⋅rice du plugin peertube-plugin-livechat\n  Pour les spectateur⋅rices  Comment tchater pour les spectateur⋅rices\n   Pour les streameur⋅euses  Comment mettre en place le tchat pour vos diffusions en direct\n  Quelques basiques  Quelques basiques sur comment configurer et utiliser le tchat pour vos directs\n Configuration de la chaîne  Configuration des salons de discussion des chaînes Peertube\n Bot de tchat  Configuration du bot de tchat\n Modération  Fonctionnalités de modération avancées du plugin peertube-plugin-livechat\n  OBS  Documentation pour diffuser le contenu du tchat à l\u0026#39;aide d\u0026#39;OBS.\n   Clients XMPP  Se connecter au tchat avec un client XMPP\n    Documentation d\u0026#39;installation  Installation du plugin peertube-plugin-livechat\n  En cas de problème  Quelques erreurs classiques, et solutions de contournement.\n   Problème connu : compatibilité CPU  Pour l\u0026#39;instant le plugin ne supporte de base que les architectures CPU x86_64 et arm64. Veuillez trouver ici des instructions pour le faire fonctionner sur d\u0026#39;autres architectures CPU.\n   Mise à jour depuis une version antérieure à 6.0.0  Notes importantes pour la mise à jour depuis une ancienne version du plugin.\n    Admin documentation  Administration du Plugin Peertube Livechat\n  Paramètres  Paramètres du Plugin Peertube Livechat\n   Usage avancé  Quelques fonctionnalités avancées\n  Clients XMPP  Autoriser la connexion en utilisant des clients XMPP\n Utiliser Matterbridge  Utiliser Matterbridge pour faire un pont vers d\u0026#39;autres tchats\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/","title":"Documentation utilisateur⋅rice","tags":[],"description":"Documentation utilisateur⋅rice du plugin peertube-plugin-livechat","content":"  Pour les spectateur⋅rices  Comment tchater pour les spectateur⋅rices\n   Pour les streameur⋅euses  Comment mettre en place le tchat pour vos diffusions en direct\n  Quelques basiques  Quelques basiques sur comment configurer et utiliser le tchat pour vos directs\n   Configuration de la chaîne  Configuration des salons de discussion des chaînes Peertube\n   Bot de tchat  Configuration du bot de tchat\n  Mots interdits  Le bot peut automatiquement modérer les messages contenant des mots interdits.\n Timers  Le bot peut envoyer des messages périodiquement.\n Commandes  Le bot peut répondre à différentes commandes.\n  Modération  Fonctionnalités de modération avancées du plugin peertube-plugin-livechat\n    OBS  Documentation pour diffuser le contenu du tchat à l\u0026#39;aide d\u0026#39;OBS.\n   Clients XMPP  Se connecter au tchat avec un client XMPP\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/installation/troubleshooting/","title":"En cas de problème","tags":[],"description":"Quelques erreurs classiques, et solutions de contournement.","content":"Je viens juste d\u0026rsquo;installer/mettre-à-jour le plugin, mais rien ne se passe Si vous venez juste d\u0026rsquo;installer/mettre-à-jour le plugin, et que rien ne se passe (pas de tchat, pas de paramètres, des boutons qui ne fonctionnent pas dans les paramètres, \u0026hellip;), essayez juste de recharger la page.\nOutil de diagnostic Si le tchat ne fonctionne pas, il y a un outil de diagnostic dans la page des paramètres du plugin.\nOuvrez les paramètres du plugin, et cliquez sur le bouton \u0026ldquo;lancer le diagnostique\u0026rdquo;.\nS\u0026rsquo;il y a une erreur sur la page de diagnostique, vous pouvez chercher une solution sur cette page, ou si vous ne trouvez pas de réponse, vous référer à la page de documentation «évolutions / bugs».\nLe tchat ne se charge pas Appels d\u0026rsquo;API interne Dans certains cas (comme par exemple les installation Peertube sous Docker), l\u0026rsquo;outil de diagnostique affiche une erreur appelée \u0026ldquo;API Prosody Peertube is KO\u0026rdquo;.\nDans ce cas, essayez de changer le paramètre \u0026ldquo;Url Peertube pour les appels d'API\u0026rdquo;, en mettant http://127.0.0.1:9000 (si c\u0026rsquo;est bien le port 9000 qui est utilisé par votre Peertube, demandez aux administrateur⋅rices de votre instance si vous ne savez pas).\nVeuillez vous référer à la page d\u0026rsquo;aide pour ce paramètre.\nWebsocket Si tout est OK d\u0026rsquo;après l\u0026rsquo;outil de diagnostique, mais que la fenêtre de tchat reste vide : cela peut être un soucis Websocket. Depuis la version 5.0.0 de Peertube, il y a de la configuration supplémentaire à faire du côté du serveur. Vérifiez avec les administrateur⋅rices de votre instance s\u0026rsquo;iels n\u0026rsquo;ont pas oublié d\u0026rsquo;appliquer les changements listés dans les notes de version 5.0.0 de Peertube.\nVous pouvez confirmer si c\u0026rsquo;est un problème de Websocket en ouvrant la console de votre navigateur, et en vérifiant s\u0026rsquo;il y a des journaux d\u0026rsquo;erreur mentionnant une connexion Websocket échouée.\nSi vous ne pouvez pas corriger cela tout de suite, vous pouvez déactiver Websocket en décochant \u0026ldquo;Désactiver Websocket\u0026rdquo; dans la page des paramètres du plugin. En pareil cas, vous devriez aussi décocher \u0026ldquo;Ne pas publier les informations de tchats\u0026rdquo;, car la fédération du tchat ne fonctionnera pas sans Websocket.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/bot/forbidden_words/","title":"Mots interdits","tags":[],"description":"Le bot peut automatiquement modérer les messages contenant des mots interdits.","content":"Vous pouvez configurer quelques mots qui seront automatiquement modérés par le bot (les messages contenant de tels mots seront instantanément supprimés). Vous pouvez aussi ajouter une raison optionnelle, qui sera affichée à la place des messages supprimés. Quelques exemples de configuration sont fournis sur la page de documentation. Vous pouvez remplir plusieurs champs «Mots ou expressions interdites\u0026quot;». Quand un⋅e utilisateur⋅rice envoie un message qui correspond à l\u0026rsquo;un des critère configuré, le message sera automatiquement supprimé.\nMots ou expressions interdites Dans ce champs, vous pouvez mettre plusieurs mots, groupes de mots, ou «expressions régulières».\nUn mot ou une expression par ligne. Si vous mettez plusieurs mots sur une même ligne, seuls les messages contenant la séquence entière seront supprimés. Chaque fois qu\u0026rsquo;un⋅e utilisateur⋅rice envoi un message, ces mots seront testés. Si le message contient l\u0026rsquo;un d\u0026rsquo;entre eux, le message sera supprimé.\nVous pouvez par exemple remplir ce champs avec une liste d\u0026rsquo;insultes.\nPour avoir quelques exemples, merci de vous référer aux suggestions de mots interdits.\nSi vous avez des listes de mots utiles, vous êtes les bienvenu⋅es pour contribuer à cette page de suggestion. Elles sont dans le dossier support/forbidden_words du code source. Veuillez vous référer au guide de contribution pour plus d\u0026rsquo;informations.\nCes mots ne sont pas sensibles à la casse.\n Cette fonction est encore expérimentale. Il pourrait y avoir quelques problèmes avec les alphabets non-latin. Si c\u0026rsquo;est le cas, vous pouvez ouvrir un ticket pour signaler votre problème.\n Considérer comme une expression régulière En cochant cette option, chaque ligne du champs «Mots ou expressions interdites» sera considéré comme une expression régulière.\nÉgalement modérer les messages des modérateur⋅rices Par défaut, les messages des modérateur⋅rices ne seront pas supprimés quand ils contiennent des mots interdits. En cochant cette option, leur messages seront également supprimé. Raison Raison à affiche à côté des messages supprimés Commentaires Vous pouvez ajouter ici quelques commentaires sur cette règle, pour vous rappeler comment et pourquoi vous l'avez créé. Ces commentaires sont purement indicatifs, et n'ont pas d'influence sur le comportement du bot. "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/admin/settings/","title":"Paramètres","tags":[],"description":"Paramètres du Plugin Peertube Livechat","content":"Cette section décrit la page de configuration du plugin.\nLister les salons de tchat existants Lorsque vous appuyez sur le bouton \u0026ldquo;Lister les salles\u0026rdquo;, toutes les salles de chat existantes sont listées. Vous pouvez alors les trouver et les modérer.\nFédération Les paramètres suivants concernent la fédération avec d\u0026rsquo;autres instances Peertube et d\u0026rsquo;autres logiciels du fediverse.\nNe pas afficher les tchats distants En cochant ce paramètre, votre instance n'affichera jamais les tchats sur les vidéos distantes. Ne pas publier les informations de tchats En cochant ce paramètre, votre instance ne publiera pas les informations de tchat sur le fédivers. Les instances Peertube distantes ne sauront pas qu'un tchat est associé aux vidéos.\nAttention : si vous aviez déjà des tchats en cours, il est possible que les informations aient déjà été publiées. Il faudra attendre la prochaine mise à jour des vidéos pour que les informations soient dépubliées. De même, si vous désactivé ce paramètre, il faudra attendre que les vidéos soient mises à jour pour à nouveau publier les informations. Cette mise à jour intervient entre autre quand un live reprend ou s'arrête.\nAttention : ce paramètre ne joue que sur la publication d'informations via le protocole ActivityPub. Il n'empêchera pas une application distante de détecter autrement la présence de tchat, et de tenter de s'y connecter. Configuration avancée de la chaîne Les paramètres suivants concernent les options de chaîne avancées : les utilisateur⋅rices pourront personnaliser leurs chaînes, activer le bot de modération, \u0026hellip;\nDésactiver la configuration avancée des chaînes et le bot de modération Si vous rencontrez un problème avec cette fonctionnalité, vous pouvez la désactiver.\nComportement en chat Type de salon Vous pouvez choisir d'avoir des salons séparés pour chaque vidéo, ou de les grouper par chaîne. Ouvrir automatiquement le tchat Quand on regarde une vidéo, le tchat va automatiquement s'ouvrir. Montrer le bouton «ouvrir dans une nouvelle fenêtre» Il y aura un bouton pour ouvrir le tchat dans une nouvelle fenêtre. Montrer le bouton «partager le lien du salon» Cette fonctionnalité permet d\u0026rsquo;activer une fenêtre modale \u0026ldquo;partager le lien du chat\u0026rdquo;. Avec cette modale, vous pouvez générer des URL pour rejoindre le tchat. Le tchat peut être personnalisé (mode lecture seule, utilisation du thème actuel, \u0026hellip;).\nVous pouvez par exemple générer une URL en lecture seule et l\u0026rsquo;utiliser dans OBS pour intégrer le chat dans votre flux en direct !\nCe paramètre vous permet de choisir qui peut accéder à cette fenêtre modale.\nLes utilisateur⋅rices peuvent activer le tchat pour leurs directs Si coché, il y aura pour tous les directs une case à cocher dans les propriétés qui permettra d'activer/désactiver le tchat. Le⋅a propriétaire de la vidéo pourra activer le tchat en ligne.\nActiver le tchat pour tous les directs Si coché, il y aura un tchat pour tous les directs. Activer le tchat pour toutes les vidéos «non-direct» Activer le tchat pour toutes les vidéos «non-direct» Activer le tchat pour ces vidéos Activer le tchat pour ces vidéos Masquer les tchats pour les utilisateur⋅rices anonymes Si coché, les utilisteur⋅rices non connecté⋅es ne verront pas les tchats. Cette fonctionnalité est encore expérimentale. Si vous l'avez activée, il est hautement recommandé d'également cocher «Ne pas publier les informations de tchats». Sinon certains outils tierces ne pourraient tenter d'ouvrir le tchat, et auraient des résultats imprédictibles. Note : pour l\u0026rsquo;instant, c\u0026rsquo;est fonctionnalité masque simplement le tchat. Dans une future version, le tchat sera remplacé par un message précisant «merci de vous connecter [\u0026hellip;]». Voir les notes de publication de la version 5.7.0 pour plus d\u0026rsquo;informations.\nBannir l'IP des utilisateur⋅rices anonymes, quand iels sont banni⋅es des salons En activant cette option, à chaque fois qu'un⋅e utilisateur⋅rice anonyme est banni⋅e d'un salon, son IP sera également bannie du serveur de tchat. Attention : si votre instance est ouverte aux inscriptions, un⋅e utilisateur⋅rice pourrait créer un salon piégé, y inviter des personnes, et automatiquement bannir les IPs des utilisateur⋅rices anonymes. La liste des IPs bannie n'est pas enregistrée, et sera effacée au redémarrage du serveur, ou si vous changez certains paramètres du plugin. Les IPs bannies sont journalisées dans les journaux du serveur Prosody, donc les admins du serveur peuvent éventuellement utiliser des outils externes (comme par exemple fail2ban) pour bannir les IPs plus largement. Important note: If you enable this feature, and are using a custom reverse proxy on front of Peertube, please make sure that your setup is correctly configured to forward real user\u0026rsquo;s IPs to Peertube. Otherwise it could block all anonymous users at once.\nPersonnalisation de l\u0026rsquo;apparence Thème ConverseJS Vous pouvez choisir le thème à utiliser pour ConverseJS :\n Thème Peertube : il s\u0026rsquo;agit d\u0026rsquo;un thème spécial, conçu spécialement pour l\u0026rsquo;intégration dans Peertube. Thème ConverseJS par défaut : c\u0026rsquo;est le thème ConverseJS par défaut. Thème ConverseJS concord : il s\u0026rsquo;agit d\u0026rsquo;un thème fourni par ConverseJS.  Détection automatique des couleurs Essaie de détecter automatiquement les couleurs du thème courant de l'utilisateur⋅rice.\nQuand ce paramètre est activé, le plugin essaie de détecter automatiquement les couleurs à appliquer au thème du tchat.\nSi cela ne fonctionne pas correctement pour certains de vos thèmes Peertube, vous pouvez désactiver cette option. Vous pouvez rapporter les bugs sur le gestionnaire de ticket . N'oubliez pas de préciser pour quel thème cela ne fonctionne pas. Attribut de style de l'iframe du tchat Styles additionnels à appliquer sur l'iframe du tchat.\nExemple : height:400px; Paramètres avancés du tchat Utiliser le serveur Prosody installé sur le système Le plugin est livré avec une AppImage qui est utilisée pour exécuter le serveur XMPP Prosody. Si cet AppImage ne fonctionne pas, vous pouvez vous rabattre sur la version de Prosody qui est packagé pour votre serveur. Installez simplement le paquet prosody.\nCe paramètre ne devrait être utilisé que si le plugin est cassé et en attente d\u0026rsquo;un correctif.\nDésactiver Websocket Avec Peertube \u0026gt;= 5.0.0, ce plugin va essayer d'utiliser Websocket pour les connexions au tchat. Si le navigateur de l'utilisateur⋅rice ou sa connexion n'est pas compatible, le navigateur va automatiquement passer au protocole BOSH. Mais, dans de rare cas, cela pourrait échouer. Par exemple si vous avez un reverse proxy devant votre Peertube qui ne permettrait pas les connexions Websocket. Dans ce cas, vous pouvez cocher cette option pour désactiver les connexions Websocket. Port Prosody Le port qui va être utilisé par le serveur Prosody.\nChangez-le si ce port est déjà utilisé sur votre serveur.\nVous pouvez fermer ce port sur votre pare-feu, il ne sera pas accédé par le monde extérieur.\nNote : cela pourrait changer dans un futur proche, car il est prévu d'ajouter des paramètres pour autoriser les connexions externes. Url Peertube pour les appels d'API Merci de ne pas toucher à ce paramètre si vous ne savez pas ce que vous faites.\nDans de rare cas, le serveur Prosody ne peut appeler l'API de Peertube en utilisant l'url publique. Vous pouvez utiliser ce paramètre pour personnaliser l'url que les modules Prosody utiliseront pour les API Peertube (par exemple, en mettant «http://localhost:9000» ou «http://127.0.0.1:9000»). Si ce paramètre est laissé vide, et que vous utilisez Peertube \u0026gt;= 5.1, le plugin va utiliser les valeurs de votre fichier de configuration Peertube pour devenir sur quelle interface et quel port les requêtes doivent être faites.\nEn dernier recours, cela utilisera l\u0026rsquo;URI publique de votre instance. Donc les appels d\u0026rsquo;API passeront à traver Nginx. Cela peut échouer dans certains cas : par exemple si vous êtes dans un conteneur Docker pour lequel le hostname publique ne résoud pas sur la bonne IP. Dans ce cas, essayez de changer le paramètre \u0026ldquo;Url Peertube pour les appels d'API\u0026rdquo;, en mettant http ://127.0.0.1 :9000 (si c\u0026rsquo;est bien le port 9000 qui est utilisé par votre Peertube, demandez aux administrateur⋅rices de votre instance si vous ne savez pas).\nEnregistrer les salons par défaut Si coché, le contenu des salons sera enregistré par défaut. Quand un⋅e utilisateur⋅rice rejoint un salon, iel pourra voir ce qui a été dit avant.\nÀ noter qu'il est toujours possible d'activer/désactiver cette fonctionnalité pour un salon spécifique, en changeant ses paramètres. Expiration des journaux de salon Vous pouvez choisir combien de temps le contenu des salons est gardé sur le serveur. La valeur peut être :  60 : le contenu sera sauvegardé pour 60 secondes. Vous pouvez remplacer 60 par n'importe quelle valeur entière. 1d : le contenu sera sauvegardé pour 1 jour. Vous pouvez remplacer 1 par n'importe quelle valeur entière. 1w : le contenu sera sauvegardé pour 1 semaine. Vous pouvez remplacer 1 par n'importe quelle valeur entière. 1m : le contenu sera sauvegardé pour 1 mois. Vous pouvez remplacer 1 par n'importe quelle valeur entière. 1y : le contenu sera sauvegardé pour 1 année. Vous pouvez remplacer 1 par n'importe quelle valeur entière. never : le contenu ne sera jamais effacé.  Autoriser les connexions aux salons via des comptes XMPP externes En activant cette option, il sera possible de se connecter aux salons en utilisant des comptes XMPP externes via des clients XMPP.\nAttention, activer cette option peut demander une configuration au niveau du serveur et des enregistrements DNS. Pour en savoir plus, merci de vous référer à la documentation: Autoriser les connexions avec des comptes XMPP externes.  Port Prosody serveur vers serveur Le port à utiliser pour les connexions XMPP s2s (server to server).\nIl est recommandé d'utiliser le port standard 5269. Sinon vous devrez configurer un enregistrement DNS spécifique . Interfaces réseau pour les connexions serveur vers serveur Les interfaces réseau sur lequelles écouter pour les connexions s2s (server to server).\nUne liste d'IP séparées par des virgules (les espaces seront retirés). On pourra utiliser «*» pour écouter sur toutes les IPv4, et «::» pour toutes les IPv6.\nExemples de configuration possible:  *, :: * 127.0.0.1, ::1 172.18.0.42  Dossiers des certificats Si ce champ est vide, le plugin va générer et utiliser des certificats auto-signés.\nSi vous voulez utiliser d'autres certificats, vous avez juste à spécifier ici le dossier où Prosody peut les trouver. Note : l'utilisateur «peertube» doit avoir un accès en lecture à ce dossier. Activer les connexions client vers serveur Autoriser les clients XMPP à se connecter au serveur Prosody.\nCette option seule n'autorise que les connexions de clients sur le localhost. Ce paramètre permet aux clients XMPP de se connecter au serveur Prosody intégré. Pour l\u0026rsquo;instant, cette option n\u0026rsquo;autorise que les connexions des clients sur le localhost.\nPar exemple, cette option peut permettre à une instance Matterbridge (une fois qu\u0026rsquo;elle pourra utiliser une connexion anonyme) sur la même machine de faire le lien entre votre tchat et d\u0026rsquo;autres services tels qu\u0026rsquo;une salle Matrix.\nPort Prosody client vers serveur Le port à utiliser pour les connexions XMPP c2s (client to server).\nLes clients XMPP devront utiliser ce port pour se connecter.\nChangez ce port si le port est déjà utilisé sur votre serveur.\nPour l'instant, vous pouvez garder ce port fermé sur votre pare-feu, il sera inaccessible depuis l'extérieur (Prosody n'écoute que le localhost).\nNote : cela pourrait prochainement changer, car il est prévu d'ajouter une fonction permettant d'activer les connexions externes. Activer les composants externes personnalisés Prosody Ce paramètre permet aux composants externes XMPP de se connecter au serveur. Par défaut cette option n\u0026rsquo;autorise que les connexions des composants sur localhost. Vous devez changer la valeur du paramètre «Interfaces réseau pour les composants Prosody externes» pour écouter sur d\u0026rsquo;autres interfaces réseau.\nCette fonction pourrait être utilisée pour connecter des ponts ou des robots.\nPlus d\u0026rsquo;informations sur les composants externes de Prosody [ici] (https://prosody.im/doc/components).\nActiver les composants externes personnalisés Prosody Pour permettre l'utilisation de composants XMPP externes.\nCette option seule n'autorise que les connexions depuis le localhost.\nVous devez configurer les interfaces sur lesquelles écouter et ouvrir les ports sur votre pare-feu pour rendre cela disponible à des serveurs distants.\nCette fonctionnalité peut, par exemple, être utilisée pour connecter des bots aux salons. Port pour les composants externe Prosody Le port à utiliser pour les XMPP components.\nChangez ce port s'il est déjà utilisé sur votre serveur.\nVous pouvez garder ce port fermé sur votre pare-feu si vous n'autorisez pas l'accès sur les interfaces autre que localhost. Interfaces réseau pour les composants Prosody externes Les interfaces réseau sur lesquelles écouter pour les composants externes.\nUne liste d'IP séparées par des virgules (les espaces seront retirés). On pourra utiliser «*» pour écouter sur toutes les IPv4, et «::» pour toutes les IPv6.\nExemples :  *,:: * 127.0.0.1,::1 172.18.0.42  Composants externes Les composants externes à déclarer :  Un par ligne. Utilisez le format «nom_du_composant:passphrase_secrete» (les espaces seront retirés). Vous pouvez ajouter des commentaires: tout ce qui se trouve après un caractère # sera retiré, et les lignes vides ignorées.  Le nom ne peut contenir que des caractères alphanumériques latins et des points.  Si le nom ne contient que des caractères alphanumériques, il sera suffixé avec le domaine XMPP. Par exemple, «bridge» deviendra «bridge.votre_domaine.tld». Vous pouvez aussi spécifier un nom de domaine complet, mais vous devrez vous assurer que votre configuration DNS est correcte.  N'utilisez que des caractères alphanumériques dans la passphrase secrète (utilisez au moins 15 caractères).  "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/viewers/","title":"Pour les spectateur⋅rices","tags":[],"description":"Comment tchater pour les spectateur⋅rices","content":"Rejoindre les salons de discussion Quand vous regardez une vidéo Peertube qui a le tchat activé, vous le verrez à coté de celle-ci :\nIl y a deux cas d\u0026rsquo;usages légèrement différents, dépendant de si vous avez un compte sur l\u0026rsquo;instance Peertube ou non. Voir plus bas pour plus d\u0026rsquo;informations.\nSi vous n\u0026rsquo;avez pas de compte Peertube Cette fonction peut être désactivée par les administrateur⋅rices de l\u0026rsquo;instance.\n Si vous n\u0026rsquo;êtes pas identifié⋅e sur l\u0026rsquo;instance Peertube où vous regardez la vidéo, vous allez automatiquement rejoindre le tchat. Un pseudonyme aléatoire vous sera assigné (quelque chose de la forme «Anonyme 12345»).\nAvant de pouvoir parler dans le salon, vous allez devoir choisir un pseudonyme dans le champ au bas de la fenêtre.\nSi vous avez un compte Peertube Si vous êtes connecté avec votre compte Peertube, vous allez automatiquement rejoindre le salon, en utilisant votre pseudonyme Peertube et votre avatar.\nSi vous regardez un direct sur une instance où vous n\u0026rsquo;avez pas de compte, mais que vous avez un compte Peertube sur une autre instance : sous réserve que le plugin livechat soit installé sur les deux instances, vous pouvez rejoindre le tchat avec votre compte. Pour cela, ouvrez la vidéo sur votre instance (vous pouvez par exemple copier/coller l\u0026rsquo;url de la vidéo dans le champs de recherche de votre instance).\n Tchatter Pour envoyer des messages, saisissez les simplement dans le champ «message» en bas de l\u0026rsquo;écran. Vous pouvez les envoyer en tapant la touche entrée de votre clavier, ou en cliquant sur le bouton «envoyer».\nSi vous voulez ajouter des retours à la ligne à vos messages, vous pouvez utiliser la combinaison de touche «shift + entrée».\nVous pouvez ajouter des emojis à vos messages. Vous pouvez par exemple utiliser le menu emojis, ou directement taper les raccourcis du type :smiley:.\nVous pouvez mentionner d\u0026rsquo;autres participant⋅es. Pour cela, vous pouvez taper les premières lettres du pseudo, puis appuyer sur la touche tabulation. Vous pouvez aussi taper le caractère @ : cela ouvrira directement un menu. Vous pouvez également cliquer sur un pseudonyme dans la liste des participant⋅es pour insérer celui-ci dans le champs de saisie de message.\nListe des participant⋅es Pour voir la liste des participant⋅es, ouvrez juste le menu droit :\nVous pouvez constater que certain⋅es participant⋅es ont des droits spéciaux (modérateur⋅rice, propriétaire, \u0026hellip;).\nOuvrir en plein écran Au dessus du tchat, il y a un bouton qui permet de l\u0026rsquo;ouvrir en plein écran. Cela l\u0026rsquo;ouvrira dans un nouvel onglet du navigateur avec le contenu suivant :\nCela peut être plus facile de tchatter en utilisant un onglet de navigateur complet.\nCette vue plein écran ajoute également un menu haut avec des fonctionnalités avancées. Cela est particulièrement utile pour les fonctions de modération.\nChanger de pseudonyme Vous pouvez changer de pseudonyme en tapant /nickname votre_nouveau_pseudo dans le champs de message.\nVous pouvez également changer votre pseudonyme en utilisant le menu haut quand vous êtes en mode plein écran.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/basics/","title":"Quelques basiques","tags":[],"description":"Quelques basiques sur comment configurer et utiliser le tchat pour vos directs","content":"Activer le tchat pour vos diffusions en direct Les administrateur⋅rices de l\u0026rsquo;instance peuvent choisir de désactiver ou activer le tchat dans certains cas spécifiques. Les informations dans cette section ne sont applicables que dans le cas par défaut.\n Quand vous créez ou modifiez un direct Peertube, il y a un onglet «paramètres du plugins» :\nDans l\u0026rsquo;onglet «paramètres du plugin», il y a une case à cocher «Activer le salon de discussion». Cochez ou décochez la simplement pour activer ou désactiver le tchat associé à votre vidéo.\nIl peut y avoir d\u0026rsquo;autres paramètres dans cet onglet, en fonction des plugins installés sur votre instance Peertube.\n Tchat par chaîne Au niveau de l\u0026rsquo;instance, les administrateur⋅rices peuvent choisir si les salons de discussions sont uniques par vidéo, ou s\u0026rsquo;ils vont être uniques par chaîne. Veuillez contacter les administrateur⋅rices de votre instance pour plus d\u0026rsquo;information sur la façon dont est configuré le plugin livechat.\nPartager le tchat Au dessus du tchat, il y a un bouton «Partager le lien du salon de discussion».\nCe bouton ouvre une popup, où vous trouverez une url pour rejoindre le tchat. Vous pouvez partager cette url.\nVous pouvez personnaliser certaines options :\n Lecture seule : vous ne pourrez que lire le tchat, et non y écrire. Ceci est utile pour inclure le contenu du tchat dans vos diffusions directes (voir la documentation OBS). Utiliser les couleurs du thème courant : si coché, les couleurs de votre thème courant seront ajoutés à l\u0026rsquo;url, de sorte que ls personnes ouvrant ce lien auront le même jeu de couleurs. Générer une iframe pour intégrer le tchat dans un site web : à la place d\u0026rsquo;une url, vous aurez un extrait HTML que vous pouvez ajouter à votre site web pour inclure le tchat.  La popup «Partager le lien du salon de discussion» peut également contenir un onglet «Connexion avec un client XMPP». Cet onglet n\u0026rsquo;est disponible que si les admintrateur⋅rices de votre instance ont activé et configuré correctement cette option. En utilisant cette option, vous pouvez fournir un lien permettant de rejoindre le salon en utilisant n\u0026rsquo;importe quel client XMPP. En utilisant de tels logiciels, il sera par exemple plus simple de gérer les actions de modération.\nModération Veuillez vous référer à la documentation de modération.\nInclure plusieurs tchats dans votre flux en direct Veuillez vous référer à la documentation OBS.\nPersistance du tchat Par défaut, le tchat est persistant. Cela veut dire que le contenu des salons sera conservé pendant un moment. Les utilisateur⋅rices qui le rejoignent pourront voir les messages envoyés avant leur arrivée.\nVous pouvez changer le comportement de la persistance. Ouvrez le tchat en plein écran, puis ouvrez le menu du haut et cliquez sur «Configurer».\nIl y a plusieurs options qui peuvent être changées.\nVous pouvez par exemple définir la valeur par défaut, et la valeur maximum du nombre de messages à retourner à 0. Ainsi les personnes rejoignant le salon ne pourront voir les messages envoyés précédemment.\nVous pouvez aussi décocher «activer l\u0026rsquo;archivage» : si décoché, les messages seront nettoyés si le serveur redémarre.\nEn décochant «Persistant», le salon sera effacé quand il n\u0026rsquo;y aura plus de participant⋅es.\nDétruire le contenu du tchat Si vous voulez détruire le contenu du tchat, ouvrez le tchat en plein écran, ouvrez le menu du haut et cliquez sur «Détruire». Une popup va s\u0026rsquo;ouvrir, demandant confirmation. Pour éviter les erreurs, la popup va vous demander «l\u0026rsquo;adresse XMPP» du salon. Cette adresse peut être obtenue via l\u0026rsquo;entrée «Détails» du menu haut.\nLe tchat sera automatiquement recréé à chaque fois que quelqu\u0026rsquo;un essayera de le rejoindre, tant que la vidéo existe et qu\u0026rsquo;elle a le paramètre «Activer le salon de discussion» activé.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/technical/sourcecode/","title":"Source code","tags":[],"description":"Source code organization","content":"This page describes the different source code folders and their content.\nbuild files Files in the root dir that begins with build- are files used to build the plugin. See the package.json file for more information.\nassets assets/images The assets/images folder contains all icons files used by the plugin.\nThere is also the assets/images/avatars folders, which contains avatars used for anonymous chat users. These files are used to generate multiple avatars (see the build-avatars.js script for more information).\nassets/styles The assets/styles folder contains the livechat plugin SCSS source files.\nbuild The build folder is not part of the source code, but is used to put some files during the build process.\nFor example, build-conversejs.js use the folder build/conversejs to build a customized ConverseJS version.\nclient The client folder contains the front-end source code.\nFiles like client/common-client-plugin.ts, client/videowatch-client-plugin.ts, \u0026hellip; are the base files that are loaded by Peertube for different \u0026ldquo;scopes\u0026rdquo; (common, videowatch, \u0026hellip;). Please refer to the Peertube plugin documentation for more information.\nconversejs The conversejs folder contains code relative to the use of ConverseJS.\nconversejs/custom The conversejs/custom folder contains some files that are used to customize ConverseJS. See the build-conversejs.sh script for more information.\ndist The dist folder is where goes all files created during the build process. It is not part of the source code.\ndocumentation The folder documentation is deprecated. We only keep files in this folder to avoid dead links (links to these files were shared on many websites or social media posts).\nThe source code for the new documentation is in support/documentation/content/en, and is used to generate the documentation web site.\nlanguages The folder languages contains the languages files. These files are translated using Weblate).\nprosody-modules The prosody-modules folder contains some modules used by Prosody.\nSome of them are \u0026ldquo;officials\u0026rdquo; plugins, others are specific to this plugin.\nserver The server folder contains the backend source code.\nshared The shared folder contains comme code that will be used both on frontend and backend.\nsupport/documentation The support/documentation contains the documentation source code.\nvendor The vendor folder is not part of the source code. It is used during the build process to download some external source code.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/installation/","title":"Documentation d&#39;installation","tags":[],"description":"Installation du plugin peertube-plugin-livechat","content":" Avant de mettre à jour le plugin vers une nouvelle version majeure, merci de lire les notes de version, et la liste des éventuelles modifications non rétro-compatibles : CHANGELOG.\n Pour installer ou mettre à jour ce plugin, utilisez simplement l\u0026rsquo;interface web d\u0026rsquo;administration de votre Peertube.\n Vous trouverez ci-dessous d\u0026rsquo;autres instructions :\n En cas de problème  Quelques erreurs classiques, et solutions de contournement.\n   Problème connu : compatibilité CPU  Pour l\u0026#39;instant le plugin ne supporte de base que les architectures CPU x86_64 et arm64. Veuillez trouver ici des instructions pour le faire fonctionner sur d\u0026#39;autres architectures CPU.\n   Mise à jour depuis une version antérieure à 6.0.0  Notes importantes pour la mise à jour depuis une ancienne version du plugin.\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/","title":"Pour les streameur⋅euses","tags":[],"description":"Comment mettre en place le tchat pour vos diffusions en direct","content":"  Quelques basiques  Quelques basiques sur comment configurer et utiliser le tchat pour vos directs\n   Configuration de la chaîne  Configuration des salons de discussion des chaînes Peertube\n   Bot de tchat  Configuration du bot de tchat\n  Mots interdits  Le bot peut automatiquement modérer les messages contenant des mots interdits.\n   Timers  Le bot peut envoyer des messages périodiquement.\n   Commandes  Le bot peut répondre à différentes commandes.\n    Modération  Fonctionnalités de modération avancées du plugin peertube-plugin-livechat\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/installation/cpu_compatibility/","title":"Problème connu : compatibilité CPU","tags":[],"description":"Pour l&#39;instant le plugin ne supporte de base que les architectures CPU x86_64 et arm64. Veuillez trouver ici des instructions pour le faire fonctionner sur d&#39;autres architectures CPU.","content":"L\u0026rsquo;AppImage Prosody inclue dans le plugin ne fonctionne que sur des CPU x86_64 et arm64. Elle n\u0026rsquo;est pas compatible avec d\u0026rsquo;autres architectures CPU.\nPour utiliser le plugin, vous allez devoir installer manuellement Prosody sur votre serveur (voir plus bas).\nNote : la version de Prosody devrait être supérieure ou égale à 0.12.0. Si vous utilisez une version plus ancienne, il pourrait y avoir des bugs sur la fédération du tchat, et d\u0026rsquo;autres comportements inattendus.\nUne fois cela fait, vous aurez à cocher le paramètre Use system Prosody du plugin.\nInstallation autres que Docker Pour les installations standard, vous avez juste à installer le paquet prosody officiellement disponible pour votre distribution linux.\nPar exemple, sur Debian/Ubuntu :\nsudo apt install prosody Vous pouvez alors désactiver le service qui démarre automatiquement quand vous installé le paquet (le plugin va lancer son propre processus Prosody, et n\u0026rsquo;a pas besoin que le service tourne sur le serveur). Par exemple, sur Debian/Ubuntu (et les autres distributions se basant sur Systemd) :\nsudo systemctl disable prosody \u0026amp;\u0026amp; sudo systemctl stop prosody Attention : ne désactivez pas Prosody s\u0026rsquo;il est utilisé par un autre service sur votre serveur, par exemple pour Jitsi.\nDocker Vous allez devoir générer une image de Peertube qui inclu Prosody dans le même conteneur que Peertube. Je sais que ce n\u0026rsquo;est pas la façon de faire standard avec Docker, mais gardez en tête que ceci est une solution de contournement temporaire.\nPour générer cette image, merci de vous référer à la documentation de Docker. Le fichier Docker pour générer l\u0026rsquo;image devrait être :\nFROMchocobozzz/peertube:production-bullseyeRUN apt -y update \u0026amp;\u0026amp; apt install -y prosody \u0026amp;\u0026amp; apt -y cleanYunohost Vous avez à désactiver metronome (le serveur XMPP utilisé par Yunohost), et installerprosody.\nCeci est déjà fait par l\u0026rsquo;application Yunohost Peertube, étant donné que c\u0026rsquo;était un pré-requis pour les version du plugin antérieures à la v6.0.0.\nMais il se pourrait que ce soit retiré de l\u0026rsquo;application Yunohost Peertube dans un futur proche (pour éviter les inconvénients de cette méthode). Je dois discuter avec l\u0026rsquo;équipe Yunohost, pour décider de la bonne façon de faire pour minimiser les inconvénients et maximiser la compatibilité.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/technical/thirdparty/","title":"Third party","tags":[],"description":"Displaying the livechat with 3rd party software.","content":" This page describes experimental features. These features are available with the plugin version \u0026gt;= 7.2.0.\n Introduction Peertube is part of the Fediverse. So Peertube video can be watched from other Peertube instances, and from various other softwares:\n from a Mastodon (or other fediverse application) instance, from a mobile app (Fedilab, Tusky, \u0026hellip;), from desktop fediverse app, \u0026hellip;  This livechat plugin is using well known standards, so it is possible to join chat rooms even when not viewing the video on Peertube.\nThere are basically 2 ways to join the chat room associated to a video:\n opening a web page (with an url like https://yourinstance.tld/plugins/livechat/router/webchat/room/8df24108-6e70-4fc8-b1cc-f2db7fcdd535), using a XMPP client (and joining a room like xmpp://8df24108-6e70-4fc8-b1cc-f2db7fcdd535@room.yourinstance.tld?join)  Joining the chat using a XMPP client is not always possible. It requires some DNS and server configuration. It will only be possible if instance\u0026rsquo;s admins have correctly setup the external XMPP clients connection feature.\n Don\u0026rsquo;t try to gues these url and connection methods yourself. Please report to next chapters.\n Chat discovery Using ActivityPub The livechat plugin adds some data in Video ActivityPub objects, so that the chat can be discovered.\nThis requires Peertube \u0026gt;= 5.1\n This follows the FEP-1970 recommendations.\nAt the time of the writing, this FEP is in draft status, and the livechat plugin is a Proof-of-concept. Until the FEP is adopted, the specification can change, and the livechat plugin will be adapted accordingly.\n Basically, the chat will be declared as attachments on the Video object, using the discussion relation.\nBy default, here is an example of what you will get:\n{ \u0026#34;@context\u0026#34;: [ \u0026#34;https://www.w3.org/ns/activitystreams\u0026#34;, \u0026#34;https://w3id.org/security/v1\u0026#34;, { \u0026#34;RsaSignature2017\u0026#34;: \u0026#34;https://w3id.org/security#RsaSignature2017\u0026#34; }, { // ...  } ], \u0026#34;to\u0026#34;: [ \u0026#34;https://www.w3.org/ns/activitystreams#Public\u0026#34; ], \u0026#34;cc\u0026#34;: [ \u0026#34;https://yourinstance.tld/accounts/root/followers\u0026#34; ], \u0026#34;type\u0026#34;: \u0026#34;Video\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;The video title\u0026#34;, // ...  \u0026#34;url\u0026#34;: [ /* ... */ ], \u0026#34;attachment\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;Link\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Chat for live stream: The video title\u0026#34;, \u0026#34;rel\u0026#34;: \u0026#34;discussion\u0026#34;, \u0026#34;href\u0026#34;: \u0026#34;https://yourinstance.tld/plugins/livechat/router/webchat/room/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; } ] } In case the instance has activated the external XMPP clients connection feature:\n{ \u0026#34;@context\u0026#34;: [ \u0026#34;https://www.w3.org/ns/activitystreams\u0026#34;, \u0026#34;https://w3id.org/security/v1\u0026#34;, { \u0026#34;RsaSignature2017\u0026#34;: \u0026#34;https://w3id.org/security#RsaSignature2017\u0026#34; }, { // ...  } ], \u0026#34;to\u0026#34;: [ \u0026#34;https://www.w3.org/ns/activitystreams#Public\u0026#34; ], \u0026#34;cc\u0026#34;: [ \u0026#34;https://yourinstance.tld/accounts/root/followers\u0026#34; ], \u0026#34;type\u0026#34;: \u0026#34;Video\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;The video title\u0026#34;, // ...  \u0026#34;url\u0026#34;: [ /* ... */ ], \u0026#34;attachment\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;Link\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Chat for live stream: The video title\u0026#34;, \u0026#34;rel\u0026#34;: \u0026#34;discussion\u0026#34;, \u0026#34;href\u0026#34;: \u0026#34;https://yourinstance.tld/plugins/livechat/router/webchat/room/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;Link\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Chat for live stream: The video title\u0026#34;, \u0026#34;rel\u0026#34;: \u0026#34;discussion\u0026#34;, \u0026#34;href\u0026#34;: \u0026#34;xmpp://8df24108-6e70-4fc8-b1cc-f2db7fcdd535@room.yourinstance.tld?join\u0026#34; } ] } Algorithm If you want to display the chat in a web page or in an iframe, here is what you should do:\n get the Video ActivityPub object, if there is no attachment key, stop. loop through the attachment values (if attachment is not an array, just iterate on this single value) search for an entry with rel === discussion, and with href using the https scheme (that begins with https://) if found, open this href  If you want to open the chat room using the XMPP protocol:\n get the Video ActivityPub object, if there is no attachment key, stop. loop through the attachment values (if attachment is not an array, just iterate on this single value) search for an entry with rel === discussion, and with href using the xmpp scheme (that begins with xmpp://) if found, open this xmpp uri with your client, or connect to the XMPP room at that address  Additional notes In the ActivityPub object, there is also a peertubeLiveChat entry. Don\u0026rsquo;t use the content of this entry. This is specific to the livechat plugin, and can be changed or removed in a near future. It is currently required for some endpoint discovery.\nUsing Podcast RSS feed The livechat plugin adds some data in Podcast RSS feeds under the \u0026lt;podcast:liveItem\u0026gt;, so that the chat can be discovered for live streams.\nThis requires Peertube \u0026gt;= 5.2\n The \u0026lt;podcast:chat\u0026gt; element is currently only supported for live streams.\n This follows the \u0026lt;podcast:chat\u0026gt; proposal.\nAt the time of the writing, this proposal is in draft status, and the livechat plugin is a Proof-of-concept. Until the proposal is adopted, the specification can change, and the livechat plugin will be adapted accordingly.\n Basically, the chat will be declared as tag under on the \u0026lt;podcast:liveItem\u0026gt; element.\nBy default, here is an example of what you will get:\n\u0026lt;podcast:liveItem status=\u0026#34;live\u0026#34; start=\u0026#34;2023-07-06T18:00:00.000Z\u0026#34;\u0026gt; \u0026lt;title\u0026gt;The video title\u0026lt;/title\u0026gt; \u0026lt;guid isPermaLink=\u0026#34;false\u0026#34;\u0026gt;e32b4890-983b-4ce5-8b46-f2d6bc1d8819_2023-07-06T18:00:00.000Z\u0026lt;/guid\u0026gt; \u0026lt;link\u0026gt;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026lt;/link\u0026gt; \u0026lt;podcast:socialInteract uri=\u0026#34;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; protocol=\u0026#34;activitypub\u0026#34; accountUrl=\u0026#34;https://yourinstance.tld/a/youraccount\u0026#34; /\u0026gt; \u0026lt;enclosure url=\u0026#34;https://yourinstance.tld/path/to/video/master.m3u8\u0026#34; type=\u0026#34;application/x-mpegURL\u0026#34; /\u0026gt; \u0026lt;podcast:alternateEnclosure type=\u0026#34;application/x-mpegURL\u0026#34; lang=\u0026#34;en\u0026#34; title=\u0026#34;HLS\u0026#34; default=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;podcast:source uri=\u0026#34;https://yourinstance.tld/path/to/video/master.m3u8\u0026#34; /\u0026gt; \u0026lt;/podcast:alternateEnclosure\u0026gt; \u0026lt;itunes:image href=\u0026#34;https://yourinstance.tld/lazy-static/previews/8df24108-6e70-4fc8-b1cc-f2db7fcdd535.jpg\u0026#34; /\u0026gt; \u0026lt;podcast:chat server=\u0026#34;yourinstance.tld\u0026#34; protocol=\u0026#34;xmpp\u0026#34; embedUrl=\u0026#34;https://yourinstance.tld/plugins/livechat/router/webchat/room/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; /\u0026gt; \u0026lt;/podcast:liveItem\u0026gt; In case the instance has activated the external XMPP clients connection feature:\n\u0026lt;podcast:liveItem status=\u0026#34;live\u0026#34; start=\u0026#34;2023-07-06T18:00:00.000Z\u0026#34;\u0026gt; \u0026lt;title\u0026gt;The video title\u0026lt;/title\u0026gt; \u0026lt;guid isPermaLink=\u0026#34;false\u0026#34;\u0026gt;e32b4890-983b-4ce5-8b46-f2d6bc1d8819_2023-07-06T18:00:00.000Z\u0026lt;/guid\u0026gt; \u0026lt;link\u0026gt;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026lt;/link\u0026gt; \u0026lt;podcast:socialInteract uri=\u0026#34;https://yourinstance.tld/videos/watch/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; protocol=\u0026#34;activitypub\u0026#34; accountUrl=\u0026#34;https://yourinstance.tld/a/youraccount\u0026#34; /\u0026gt; \u0026lt;enclosure url=\u0026#34;https://yourinstance.tld/path/to/video/master.m3u8\u0026#34; type=\u0026#34;application/x-mpegURL\u0026#34; /\u0026gt; \u0026lt;podcast:alternateEnclosure type=\u0026#34;application/x-mpegURL\u0026#34; lang=\u0026#34;en\u0026#34; title=\u0026#34;HLS\u0026#34; default=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;podcast:source uri=\u0026#34;https://yourinstance.tld/path/to/video/master.m3u8\u0026#34; /\u0026gt; \u0026lt;/podcast:alternateEnclosure\u0026gt; \u0026lt;itunes:image href=\u0026#34;https://yourinstance.tld/lazy-static/previews/8df24108-6e70-4fc8-b1cc-f2db7fcdd535.jpg\u0026#34; /\u0026gt; \u0026lt;podcast:chat server=\u0026#34;yourinstance.tld\u0026#34; protocol=\u0026#34;xmpp\u0026#34; space=\u0026#34;8df24108-6e70-4fc8-b1cc-f2db7fcdd535@room.yourinstance.tld\u0026#34; embedUrl=\u0026#34;https://yourinstance.tld/plugins/livechat/router/webchat/room/8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; /\u0026gt; \u0026lt;/podcast:liveItem\u0026gt; Algorithm If you want to display the chat in a web page or in an iframe, here is what you should do:\n get the Podcast RSS feed for the channel, if there is no \u0026lt;podcast:liveItem\u0026gt; element under the \u0026lt;channel\u0026gt;, stop. find the \u0026lt;podcast:liveItem\u0026gt; you are looking for  \u0026lt;podcast:socialInteract\u0026gt; can be used to cross-reference the items with ActivityPub   if there is no \u0026lt;podcast:chat\u0026gt; element under the \u0026lt;podcast:liveItem\u0026gt;, stop. loop through the \u0026lt;podcast:chat\u0026gt; values (if \u0026lt;podcast:chat\u0026gt; is not an array, just iterate on this single value)  there should only be one, but you should expect to handle several just in case   search for the first entry protocol === xmpp and an embedUrl attribute if found, open this embedUrl  If you want to open the chat room using the XMPP protocol:\n get the Podcast RSS feed for the channel, if there is no \u0026lt;podcast:liveItem\u0026gt; element under the \u0026lt;channel\u0026gt;, stop. find the \u0026lt;podcast:liveItem\u0026gt; you are looking for  \u0026lt;podcast:socialInteract\u0026gt; can be used to cross-reference the items with ActivityPub   loop through the \u0026lt;podcast:chat\u0026gt; values (if \u0026lt;podcast:chat\u0026gt; is not an array, just iterate on this single value)  there should only be one, but you should expect to handle several just in case   search for the first entry protocol === xmpp and a space attribute  space should be an XMPP JID for a MUC   if found, open this XMPP JID with your client after converting it to a join URI, or connect to the XMPP room at that address  "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/bot/quotes/","title":"Timers","tags":[],"description":"Le bot peut envoyer des messages périodiquement.","content":"Vous pouvez configurer quelques timers qui enverrons des messages à intervalle régulier. Ces messages seront envoyés par le bot toutes les X minutes. Vous pouvez par exemple faire en sorte que le bot envoi des informations de sponsoring toutes les 5 minutes. S\u0026rsquo;il n\u0026rsquo;y a pas d\u0026rsquo;utilisateur⋅rice dans le salon, le bot n\u0026rsquo;enverra pas de message.\n Timer Vous pouvez configurer quelques timers qui enverrons des messages à intervalle régulier. Ces messages seront envoyés par le bot toutes les X minutes. Vous pouvez par exemple faire en sorte que le bot envoi des informations de sponsoring toutes les 5 minutes. Un message par ligne. S'il y a plusieurs messages, le bot en choisira un aléatoirement toutes les X minutes. Envoyer toutes les X minutes Le bot enverra les messages toutes les X minutes "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/translate/","title":"Traduction","tags":[],"description":"Traduire le plugin","content":"Vous pouvez contribuer à la traduction de ce plugin Peertube. Les traductions sont gérées par le logiciel Weblate, via l\u0026rsquo;instance Weblate de Framasoft.\nNe modifiez jamais directement les fichiers dans le dossier languages du plugin, vous risqueriez de créer des conflits.\n Comment faire  Créez-vous un compte : https://weblate.framasoft.org/accounts/register/ Validez votre email en cliquant sur le lien reçu Choisissez votre mot de passe, et configurez votre compte Allez sur le projet du plugin de tchat : https://weblate.framasoft.org/projects/peertube-livechat/peertube-plugin-livechat/ Choisissez la langue que vous voulez traduire Il ne vous reste plus qu\u0026rsquo;à ajouter les traductions manquantes, ou corriger celles qui vous semblent erronées.  Il peut y avoir des chaînes «assez techniques». Si vous n\u0026rsquo;êtes pas sûr⋅e à 100% du sens, ou de la traduction, il vaut mieux ne pas la traduire du tout ; ainsi la version anglaise s\u0026rsquo;affichera.\n Ajouter une nouvelle langue Si la langue qui vous intéresse n\u0026rsquo;est pas présente, assurez-vous d\u0026rsquo;abord qu\u0026rsquo;elle est bien supportée par Peertube. Si c\u0026rsquo;est le cas, vous pouvez ouvrir un ticket pour en demander l\u0026rsquo;ajout.\nAjout de nouveau segment / utilisation dans le code Si vous travaillez sur une nouvelle fonctionnalité, et que vous avez besoin de nouveaux segments, créez les directement dans Weblate. La version anglaise est obligatoire, commencez par celle-ci.\nChaque segment est lié à une clé (par exemple use_chat). Choisissez une clé en anglais, suffisamment explicite, et en minuscule.\nSi vous avez besoin de tester vos localisations sans attendre la fusion venant de Weblate, vous pouvez modifier les fichiers languages/*.yml, mais évitez de les commit (pour minimiser le risque de conflits).\nUtiliser un segment dans le code front-end Avant d\u0026rsquo;utiliser une chaîne en front-end, il faut déclarer une nouvelle constante dans client/@types/global.d.ts. La constante doit :\n commencer par le préfixe \u0026ldquo;LOC_\u0026rdquo; utiliser la clé de la chaîne, en majuscule vous ne devez déclarer que son type, pas sa valeur  Par exemple, pour utiliser \u0026ldquo;use_chat\u0026rdquo;, vous devez déclarer :\ndeclare const LOC_USE_CHAT: string Le script build-client.js va lire ce fichier client/@types/global.d.ts, chercher pour de telles constantes, et charger leurs valeurs depuis le fichier de langue.\nVous pouvez maintenant utiliser peertubeHelpers.translate(LOC_USE_CHAT) dans votre code.\nUtiliser un segment dans le code back-end En théorie, les seules parties du code qui ont besoin de traductions sont les déclarations de paramètres et la génération de données standardisées (ActivityPub, RSS, \u0026hellip;). Ici on a besoin de récupérer les chaînes anglaises à partir des clés de traduction.\nNote : vous ne devriez jamais avoir besoin d\u0026rsquo;autres langues que l\u0026rsquo;anglais pour le code backend. Les traductions doivent se faire coté front-end.\nIl y a un module lib/loc.ts qui fourni une function loc(). Passez juste la clé pour récupérer la phrase anglaise : loc('diagnostic').\nTraduction de la documentation La traduction de la documentation est faite en utilisant le composant Weblate correspondant.\nIl y a un «shortcode Hugo» spécifique qui vous permet d\u0026rsquo;afficher une chaîne issue de l\u0026rsquo;application. Si vous voulez par exemple afficher le libellé du bouton «open_chat_new_window», vous pouvez utiliser le code suivant dans le fichier markdown de la documentation :\n{{% livechat_label open_chat_new_window %}} Vous pouvez également empêcher qu\u0026rsquo;une page entière ne soit traduite en ajoutant livechatnotranslation:true dans la section Yaml Font Matter du fichier :\n--- title: \u0026#34;Third party\u0026#34; description: \u0026#34;Displaying the livechat with 3rd party software.\u0026#34; weight: 20 chapter: false livechatnotranslation: true --- Ne traduisez jamais une chaîne dans le fichier livechat.en.pot, ce serait ignoré. À la place, éditez directement le fichier markdown.\nSi une chaîne contient un lien, vous pouvez le changer pour le lien correct dans la langue cible. Par exemple, si c\u0026rsquo;est un lien vers la documentation, vous pouvez ajouter le code langue dans l\u0026rsquo;url.\nCertaines chaînes sont des blocs de code. Ne les traduisez pas. Toutefois vous pouver traduire les commentaires, ou les paramètres si c\u0026rsquo;est pertinent.\nSi vous avez un doute, ne traduisez pas, et demandez plutôt quoi faire.\nL\u0026rsquo;outils utilisé pour gérer les traductions de la documentation peut avoir des comportements étranges. Quand j\u0026rsquo;ajoute une phrase qui ressemble à une phrase existante, il va parfois copier les traductions. Donc quand vous avez des traductions marquées comme «à vérifier», veuillez vous assurer qu\u0026rsquo;il n\u0026rsquo;a pas copié une traduction qui n\u0026rsquo;a rien à voir avec la version anglaise avant de valider.\nSi vous n\u0026rsquo;êtes pas sûr du contexte d\u0026rsquo;une chaîne de texte, vous pouvez vérifier l\u0026rsquo;emplacement de la chaîne source dans le panneau droit de Weblate, et ouvrir la page de documentation correspondante. Par exemple, pour une chaîne localisée dans le fichier support/documentation/content/en/documentation/user/streamers.md, l\u0026rsquo;url correspondante est https://livingston.frama.io/peertube-plugin-livechat/documentation/user/streamers/.\nRecommandations génériques Merci d\u0026rsquo;être inclusif⋅ve dans vos phrasés, et merci de respecter le code de conduite.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/admin/advanced/","title":"Usage avancé","tags":[],"description":"Quelques fonctionnalités avancées","content":"  Clients XMPP  Autoriser la connexion en utilisant des clients XMPP\n   Utiliser Matterbridge  Utiliser Matterbridge pour faire un pont vers d\u0026#39;autres tchats\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/admin/","title":"Admin documentation","tags":[],"description":"Administration du Plugin Peertube Livechat","content":"  Paramètres  Paramètres du Plugin Peertube Livechat\n   Usage avancé  Quelques fonctionnalités avancées\n  Clients XMPP  Autoriser la connexion en utilisant des clients XMPP\n   Utiliser Matterbridge  Utiliser Matterbridge pour faire un pont vers d\u0026#39;autres tchats\n    "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/admin/advanced/xmpp_clients/","title":"Clients XMPP","tags":[],"description":"Autoriser la connexion en utilisant des clients XMPP","content":"Ce module de tchat repose sur le protocole XMPP, aussi connu sous le nom de Jabber. Il est donc possible de se connecter aux tchats en utilisant des logiciels clients XMPP. Cela peut par exemple être utile pour faciliter les opérations de modération.\nPour la documentation utilisateur⋅rice associé à ces fonctionnalités, veuillez vous référer à la page de documentation utilisateur⋅rice.\nL\u0026rsquo;activation de ces fonctionnalités demande des changements de configuration sur le serveur, et sur les enregistrements DNS. Il n\u0026rsquo;est pas possible de les activer uniquement depuis l\u0026rsquo;interface de Peertube, et cela demande d\u0026rsquo;avoir quelques compétences basiques d\u0026rsquo;admin système.\n Connexion à votre compte Peertube Cette fonctionnalité n\u0026rsquo;est pas encore disponible, et viendra dans une prochaine version du plugin.\n Connexion en utilisant un compte XMPP externe Pour activer cette fonctionnalité, il va falloir paraméter votre serveur et vos enregistrements DNS, de sorte que les clients XMPP puissent trouver et accéder au serveur Prosody que ce plugin utilise en interne.\nParamètres du plugin Commencez par aller dans les paramètres du plugin livechat de votre instance, puis activez le paramètre «Autoriser les connexions aux salons via des comptes XMPP externes». En cochant celui-ci, de nouveaux champs apparaissent en dessous.\nTout d\u0026rsquo;abord, le champs «Port Prosody serveur vers serveur». Celui-ci prend par défaut la valeur 5269, qui est le port standard pour ce service. Vous pouvez toutefois changer pour un autre port, si celui-ci est déjà utilisé sur votre serveur.\nEnsuite, le champs «Interfaces réseau pour les connexions serveur vers serveur» vous permet d\u0026rsquo;indiquer sur quelles interfaces réseau le serveur doit écouter. La valeur par défaut «*, ::» indique d\u0026rsquo;écouter sur toutes les addresses IP. Vous pouvez changer ces valeurs, si vous souhaiter n\u0026rsquo;écouter que sur certaines IP. La syntaxe est expliquée à coté du champs.\nPour le champs «Dossiers des certificats», vous pouvez le laisser vide. Dans ce cas là, le plugin va générer automatiquement des certificats auto-signés. Il se pourrait que certains serveurs XMPP refusent de se connecter, cela dépendant de leur paramétrage. Dans ce cas, vous pouvez indiquer ici un chemin sur le serveur, dans lequel vous placerez des certificats à utiliser par le module. Charge à vous de les générer et de les renouveller. Voir plus loin pour une explication plus détaillée.\nPare-feu Vous devez ouvrir le port configuré (5269 par défaut) sur votre pare-feu.\nSi vous utilisez Docker pour votre Peertube, il faut modifier le fichier docker-compose.yml pour ouvrir le port 5269 du conteneur peertube au monde extérieur.\nDNS Vous devez ajouter un enregistrement DNS permettant aux serveurs distant de trouver le composant «room.votre_instance.tld».\nLe plus simple pour cela est d\u0026rsquo;ajouter un enregistrement SRV pour le sous-domaine «room» :\n nom de l\u0026rsquo;enregistrement : _xmpp-server._tcp.room.votre_instance.tld. (remplacez «votre_instance.tld» par la valeur adéquate) TTL: 3600 class: IN SRV: 0 priority: 0 weight: 5 port: 5269 (adaptez si vous avez changé le port) target: votre_instance.tld. (remplacez par la valeur adéquate)  Attention à bien conserver le point après «votre_instance.tld».\nEn utilisant la commande dig pour vérifier votre enregistrement, vous devriez obtenir un résultat similaire à celui-ci :\n$ dig +short _xmpp-server._tcp.room.videos.john-livingston.fr. SRV 0 5 5269 videos.john-livingston.fr. Si vous n\u0026rsquo;utilisez pas le port standard 5269, vous devez ajouter un autre enregistrement SRV pour _xmpp-server._tcp.votre_instance.tld. (pareil que précédemment, mais en enlevant le préfixe room.). Bien sûr, vous pouvez l\u0026rsquo;ajouter même si vous utilisez le port standard. Cela fonctionnera également.\nUtilisation de certificats de confiance Les certificats auto-signés que le plugin utilise par défaut peuvent ne pas convenir à tous les serveurs distants. En effet, ceux-ci peuvent les refuser pour raison de sécurité.\nIl est possible d\u0026rsquo;utiliser des certificats validés par une autorité de certification. Cependant cela demande des connaissances d\u0026rsquo;administration système avancées. En effet, devant la multitude de cas possibles, il est impossible de documenter ici toutes les situations. La présente documentation va donc se contenter de vous expliquer le but à atteindre, et donner un example qui ne conviendra qu\u0026rsquo;à une situation «basique» (installation manuelle de Peertube, avec utilisation de letsencrypt). Si vous êtes dans une autre situation (installation Docker, certificats signés par une autre autorité, etc\u0026hellip;), il vous faudra adapter la démarche.\nPrincipe de base À vous de générer des certificats valides pour les domaines votre_instance.tld et room.votre_instance.tld. Vous pouvez utiliser n\u0026rsquo;importe quelle méthode supportées par Prosody.\nVous devez ensuite placer ces certificats dans un dossier qui sera accessible au user peertube, puis indiquer ce dossier dans le paramètre du plugin «Dossiers des certificats».\nSi vous voulez utiliser l\u0026rsquo;utilitaire ProsodyCtl (pour importer des certificats letsencrypts, générer des certificats, etc\u0026hellip;), cet utilitaire est disponible (une fois Peertube démarré) en utilisant la commande qui suit (en adaptant le chemin vers votre dossier data Peertube, et en remplaçant «xxx» par les arguments que vous souhaitez passer à prosodyctl) : sudo -u peertube /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/prosodyAppImage/squashfs-root/AppRun prosodyctl xxx\n Le plugin va vérifier une fois par jour si des fichiers ont été modifiés dans ce dossier, et recharger Prosody le cas échéant.\nMéthode dans le cas simple Nous supposons ici que votre installation de Peertube est «classique» (pas d\u0026rsquo;utilisation de Docker), et que les certificats sont générés par letsencrypt, en utilisant l\u0026rsquo;outils certbot.\nTout d\u0026rsquo;abord, on va devoir créer un certificat pour le sous-domain room.votre_instance.tld : c\u0026rsquo;est l\u0026rsquo;uri du composant MUC (salons de discussion XMPP). Même si les connections se font sur votre_instance.tld, il va nous falloir un certificat valide pour ce sous-domaine.\nCommencez donc par paramétrer une entrée DNS pour room.votre_instance.tld, qui pointe sur votre serveur. Vous pouvez tout à fait faire une entrée CNAME (ou une entrée A et une entrée AAAA).\nEnsuite, nous allons utiliser nginx (déjà installé pour votre Peertube) pour générer le certificat certbot. On va créer un nouveau site. Dans le fichier /etc/nginx/site-available/room.peertube, ajoutez :\nserver { listen 80; listen [::]:80; server_name room.votre_instance.tld; location /.well-known/acme-challenge/ { default_type \u0026#34;text/plain\u0026#34;; root /var/www/certbot; } location / { return 301 https://votre_instance.tld; } } Ensuite on active ce site :\nln -s /etc/nginx/sites-available/room.peertube /etc/nginx/sites-enabled/ systemc reload nginx On prépare ensuite le dossier dans lequel on va plus tard importer les certificats. On suppose ici que vous avez déjà le plugin actif. On va créer le dossier suivant (s\u0026rsquo;il n\u0026rsquo;existe pas déjà), avec le user peertube pour être sûr qu\u0026rsquo;il n\u0026rsquo;y a pas de problème de droits :\nsudo -u peertube mkdir /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/prosody/certs Il faut maintenant configurer ce dossier dans les paramètres du plugin, pour «Dossiers des certificats». C\u0026rsquo;est important de le faire avant la suite, sinon le script d\u0026rsquo;import des certificats va les placer au mauvais endroit.\nOn va configurer certbot pour qu\u0026rsquo;il importe les certificats générés dans le dossier de Prosody. On va pouvoir utiliser l\u0026rsquo;utilistaire ProsodyCtl packagé dans le plugin.\nNote : pour qu\u0026rsquo;il soit disponible, il faut que le plugin ai démarré au moins une fois.\nOn va créer un fichier /etc/letsencrypt/renewal-hooks/deploy/prosody.sh contenant :\n#!/bin/sh /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/prosodyAppImage/squashfs-root/AppRun prosodyctl \\  --root \\  --config /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/prosody/prosody.cfg.lua \\  cert import \\  room.votre_instance.tld votre_instance.tld /etc/letsencrypt/live Puis on demande à générer le certificat :\ncertbot -d room.videos.john-livingston.fr Si certbot vous propose plusieurs méthodes pour générer le certificat, choisissez «nginx».\nNormalement vous devriez maintenant trouver les certificats dans le dossier configuré.\nNote : la première fois que vous faites tout ça, il va falloir recharger Prosody. Le plus simple pour cela est de redémarrer Peertube.\nMéthode en cas d\u0026rsquo;utilisation de Docker Cette méthode marche avec le guide Docker officiel de Peertube.\nTout d\u0026rsquo;abord, assurez-vous de créer une entrée DNS pour room.your_instance.tld, qui pointe vers votre serveur. Vous pouvez utiliser une entrée CNAME (ou une entrée A et une entrée AAAA). Ceci est nécessaire pour que Let\u0026rsquo;s Encrypt valide le domaine pour la génération du certificat.\nEntrez le répertoire où se trouve votre fichier docker-compose.yml.\nOuvrez un shell dans le conteneur certbot :\ndocker exec -it certbot /bin/sh Lancez certbot :\ncertbot Une série d\u0026rsquo;invites vous sera présentée. Entrez 2 pour le type d\u0026rsquo;authentification :\nHow would you like to authenticate with the ACME CA? Select the appropriate number [1-2] then [enter] (press \u0026#39;c\u0026#39; to cancel): 2 Enter the domain name room.your_instance.tld:\nPlease enter the domain name(s) you would like on your certificate (comma and/or space separated) (Enter \u0026#39;c\u0026#39; to cancel): room.your_instance.tld Enter the directory where the PeerTube webserver serves requests for Let\u0026rsquo;s Encrypt, /var/www/certbot:\nInput the webroot for \u0026lt;room.your_instance.tld\u0026gt;: (Enter \u0026#39;c\u0026#39; to cancel): /var/www/certbot Vous devriez obtenir un résultat semblable à celui qui suit :\nSuccessfully received certificate. Certificate is saved at: /etc/letsencrypt/live/room.your_instance.tld/fullchain.pem Key is saved at: /etc/letsencrypt/live/room.your_instance.tld/privkey.pem Exécutez la commande suivante à l\u0026rsquo;intérieur du conteneur certbot pour donner un accès en lecture aux nouveaux certificats et clés privées au groupe peertube. Note : Cette commande rendra également les fichiers accessibles en lecture au groupe dont l\u0026rsquo;identifiant est 999 sur le système hôte. Vérifiez les groupes sur votre système pour évaluer le risque avant d\u0026rsquo;exécuter cette commande.\nchown -R root:999 /etc/letsencrypt/live; \\ chmod 750 /etc/letsencrypt/live; \\ chown -R root:999 /etc/letsencrypt/archive; \\ chmod 750 /etc/letsencrypt/archive; \\ find /etc/letsencrypt/ -name \u0026#39;privkey*\u0026#39; -exec chmod 0640 {} \\; Sortez du conteneur certbot :\nexit Modifiez votre fichier docker-compose.yml, en changeant la ligne entrypoint sous le service certbot par ce qui suit. C\u0026rsquo;est la même chose que ci-dessus, mais elle doit être exécutée automatiquement après chaque renouvellement de certificat.\nentrypoint: /bin/sh -c \u0026#34;trap exit TERM; while :; do certbot renew --webroot -w /var/www/certbot; chown -R root:999 /etc/letsencrypt/live; chmod 750 /etc/letsencrypt/live; chown -R root:999 /etc/letsencrypt/archive; chmod 750 /etc/letsencrypt/archive; find /etc/letsencrypt/ -name \u0026#39;privkey*\u0026#39; -exec chmod 0640 {} +; sleep 12h \u0026amp; wait $${!}; done;\u0026#34; En continuant à modifier docker-compose.yml, ajoutez le volume certbot dans le conteneur peertube. Il devrait ressembler à ceci :\nvolumes: - ./docker-volume/certbot/conf:/etc/letsencrypt Redémarrez vos services :\ndocker-compose down; docker-comopse up -d Dans les paramètres du plugin livechat à partir des paramètres d\u0026rsquo;administration de PeerTube, définissez le répertoire des certificats comme suit :\n/etc/letsencrypt/live Sauvegardez les paramètres du plugin et vérifiez que Prosody peut voir les certificats :\ndocker-compose exec -u peertube \\  peertube \\  /data/plugins/data/peertube-plugin-livechat/prosodyAppImage/squashfs-root/AppRun \\  prosodyctl \\  --config /data/plugins/data/peertube-plugin-livechat/prosody/prosody.cfg.lua \\  check certs En cas de problème Si cela ne fonctionne pas, vous pouvez utiliser l\u0026rsquo;outils de diagnostic (un bouton se trouve en haut de la page des paramètres du plugin), et notamment regarder ce que dit la section «Prosody check».\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/channel/","title":"Configuration de la chaîne","tags":[],"description":"Configuration des salons de discussion des chaînes Peertube","content":" Cette fonctionnalité arrive avec le plugin livechat version 8.0.0, et peut être désactivée par les admins de votre instance.\n Dans le menu gauche de Peertube, il y a une entrée «Salons de discussion» :\nCe lien «Salons de discussion» vous emmène sur une liste de vos chaînes. En cliquant sur une chaîne, vous pourrez effectuer certains réglages pour vos chaînes :\nIci vous pouvez configurer :\n Le bot de tchat Nouvelles fonctionnalités à venir\u0026hellip;  "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/feedback/","title":"Donnez vos retours","tags":[],"description":"Donnez vos retours","content":"Vous n\u0026rsquo;avez pas besoin de coder pour commencer à contribuer à ce plugin ! Les autres formes de contributions sont également précieuses, parmis lesquelles : vous pouvez tester le plugin et remonter les bugs que vous rencontrez, partager vos retours d\u0026rsquo;expérience, proposer des fonctionnalités qui vous intéressent, remonter vos remarques sur l\u0026rsquo;interface, le design, etc.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/bot/","title":"Bot de tchat","tags":[],"description":"Configuration du bot de tchat","content":" Cette fonctionnalité arrive avec le plugin livechat version 8.0.0, et peut être désactivée par les admins de votre instance.\n Vous pouvez activer un bot de tchat dans vos salons. La configuration du bot se fait chaîne par chaîne, et s\u0026rsquo;applique aux salons de toutes les vidéos de celles-ci.\nPour accéder à cette page, veuillez vous référer à la documentation sur la configuration des chaînes.\nUne fois ici, vous pouvez activer le bot, et configurer quelques options :\n Mots interdits  Le bot peut automatiquement modérer les messages contenant des mots interdits.\n   Timers  Le bot peut envoyer des messages périodiquement.\n   Commandes  Le bot peut répondre à différentes commandes.\n   Le bot recharge automatiquement ses options quand vous sauvegardez la page.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/bot/commands/","title":"Commandes","tags":[],"description":"Le bot peut répondre à différentes commandes.","content":"Vous pouvez configurer le bot pour répondre à des commandes. Une commande est un message qui commence par un \"!\", comme par exemple \"!help\" qui appellera la commande \"help\". Vous pouvez paramétrer différentes commandes.\nCommande La commande, sans le \"!\" au début. Par exemple \"help\", \"sponsor\", ... Envoyer toutes les X minutes Le bot enverra les messages toutes les X minutes "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/develop/","title":"Développer","tags":[],"description":"Développer","content":"Toujours annoncer les fonctionnalités sur lesquelles vous voulez travailler en créant un ticket ou en commentant un ticket existant, avant de commencer à travailler dessus.Et annoncez clairement à la communauté que vous commencez à travailler dessus. Ceci afin d\u0026rsquo;éviter que plusieurs personnes travaillent sur la même chose et entrent en conflit.\nLes Pull Request sont à faire sur la branche main.\nJusqu\u0026rsquo;à mars 2023, il fallait contribuer sur la branche develop. Cette procédure est désormais obsolète.\n Pré-requis pour compiler le plugin Il est hautement recommandé d\u0026rsquo;être familier avec les concepts suivants :\n Git NodeJS NPM Typescript  Pour construire le module, vous avez besoin d\u0026rsquo;avoir installé les paquets suivants :\n git npm (\u0026gt;=8.x) nodejs (\u0026gt;=14.x) build-essential coreutils wget  Veuillez noter que ce plugin a besoin d\u0026rsquo;une AppImage du serveur XMPP Prosody. Cette AppImage est fournie par le project Prosody AppImage. Le script build-prosody.sh télécharge les binaires attachés à ce dépôt distant, et vérifie que les sommes de contrôles sha256 sont correctes.\nDévelopper Clonez le dépôt, construisez le plugin, et créez votre branche de fonctionnalité :\n# Cloner le dépot. N\u0026#39;oubliez pas le --recursive, pour clôner les sous-modules. git clone https://github.com/JohnXLivingston/peertube-plugin-livechat.git --recursive cd peertube-plugin-livechat # Installer les dépendances NPM et compiler le plugin pour la première fois : npm install # Compiler le plugin après une modification : npm run build # Si vous avez un fork du dépot, ajoutez le en remote (exemple) : git remote add me git@github.com:MON_COMPTE_GITHUB/peertube-plugin-livechat.git # Créez une branche locale pour vos développements et placez vous dessus (exemple) : git checkout mon_developpement # NB: si un ticket y est associé, utilisé le nom fix_1234 (où 1234 est le numéro du ticket) # Pour proposer vos modifications, poussez votre branche sur votre dépot (exemple) : git push --set-upstream me mon_developpement # Rendez-vous ensuite sur votre dépot github avec votre navigateur web pour proposer la Pull Request (voir les instructions complémentaires ci-dessous) Quand vous êtes prêt⋅e à montrer votre code pour avoir un retour, soumettez une Pull Request draft. Quand vous êtes prêt⋅e pour une relecture de code avant merge, soumettez une Pull Request. Dans tous les cas, merci de lier votre Pull Request au ticket concerné en utilisant la syntax de GitHub : «fixes #issue_number».\nLe code du front-end est dans le dossier client. Le code backend dans server. Il y a du code partagé entre les deux dans shared.\nPour les instructions génériques concernant le développement de plugins (building, installation, \u0026hellip;), merci de vous référer à la documentation Peertube.\nVous pouvez builder le plugin avec des infos de debug supplémentaires en utilisant :\nNODE_ENV=dev npm run build ESBuild versus Typescript Ce plugin utilise ESBuild pour compiler le code front-end, comme le plugin peertube-plugin-quickstart officiel. ESBuild peut gérer Typescript, mais ne vérifie pas les types (voir la documentation ESBuild). C\u0026rsquo;est pourquoi on compile d\u0026rsquo;abord Typescript avec l\u0026rsquo;option -noEmit, juste pour vérifier les types (check:client:ts dans le fichier package.json). Ensuite, si tout est ok, on lance ESBuild pour générer le javascript compilé.\nDebug Mode Il existe un mode de debug pour le plugin, qui va raccourcir le délais de certaines actions. Par exemple, il va faire tourner les journaux toutes les deux minutes, au lieu de tous les jours. Cela permet de tester plus facilement certaines actions, pour lesquelles il faudrait normalement attendre des heures ou des jours.\nPour activer ce mode, il suffit de créer un fichier /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/debug_mode (en adaptant /var/www/peertube/storage/ à votre installation le cas échéant).\nLa simple existance de ce fichier suffit à déclencher le mode debug. Pour être sûr qu\u0026rsquo;il est pris en compte, vous pouvez redémarrer votre instance Peertube.\nCe fichier peut également contenir du JSON qui pourra activer d\u0026rsquo;autres options. Pour en avoir la liste, vous pouvez regarder le code de server/lib/debug.ts. Redémarrez Peertube après chaque modification de son contenu.\nN\u0026rsquo;activer jamais ce mode sur un serveur de production, ni même sur un serveur public. Cela pourrait poser des problèmes de sécurité.\n Redémarrer Prosody Pour redémarrer Prosody quand le mode debug est activé, vous pouvez appeler l\u0026rsquo;API http://votre_instance.tld/plugins/livechat/router/api/restart_prosody. Cet appel n\u0026rsquo;a pas besoin d\u0026rsquo;authentification. Il peut se faire depuis une ligne de commande, par exemple avec `curl http://votre_instance.tld/plugins/livechat/router/api/restart_prosody.\ndebugger Prosody Il est possible de connecter l\u0026rsquo;AppImage Prosody à un debugger distant en utilisant MobDebug.\nPour cela, placer MobDebug dans un dossier accessible par le user peertube. Ensuite, ajouter cela dans le fichier debug_mode du plugin :\n{ \u0026#34;debug_prosody\u0026#34;: { \u0026#34;debugger_path\u0026#34;: \u0026#34;/le_chemin_vers_mobdebug/src\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;localhost\u0026#34;, \u0026#34;port\u0026#34;: \u0026#34;8172\u0026#34; } } host et port sont optionnels. debugger_path doit pointer vers le dossier où se trouve le fichier .lua de MobDebug.\nRedémarrer Peertube.\nLancer votre serveur de debug.\nPour que Prosody se connecte au debugger, appelez l\u0026rsquo;API http://votre_instance.tld/plugins/livechat/router/api/restart_prosody?debugger=true. Cet appel n\u0026rsquo;a pas besoin d\u0026rsquo;authentification. Il peut se faire depuis une ligne de commande, par exemple avec curl http://votre_instance.tld/plugins/livechat/router/api/restart_prosody?debugger=true. Vous pouvez même configurer votre serveur de debuggage pour lancer cette commande automatiquement.\nProsody va alors redémarrer en se connectant au debugger.\nEnvironnement de développement rapide via Docker Un tutoriel est disponible sur le forum Peertube pour expliquer comment monter rapidement un environnement de développement en utilisant Docker.\nUn dépot a été crée sur la base de ce tutoriel : pt-plugin-dev.\nNote : pour une raison obscure, Prosody n\u0026rsquo;arrive pas à résoudre les adresses DNS des conteneurs quand la librairie lua-unbound est utilisée. Pour contourner cela, il y a un «dirty hack» : il suffit de créer une fichier /data/plugins/data/peertube-plugin-livechat/no_lua_unbound dans vos docker-volumes, puis de les redémarrer.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/obs/","title":"OBS","tags":[],"description":"Documentation pour diffuser le contenu du tchat à l&#39;aide d&#39;OBS.","content":"OBS est un logiciel populaire de diffusion en direct, libre et open source, avec des capacités avancées pour vos diffusions. Dans la présente page, vous allez trouver quelques conseils pour gérer les tchats de vos directs en utilisant OBS.\nOverlay OBS Vous pouvez facilement inclure le tchat dans votre flux vidéo.\nVous pouvez utiliser la fonction «Partager le lien du salon de discussion» pour générer une URL vers votre tchat. Le bouton devrait se trouver près du tchat si vous êtes le⋅a propriétaire de la vidéo (à moins qu\u0026rsquo;il n\u0026rsquo;ait été désactivé par les administrateur⋅rices de votre serveur).\nCochez la case à cocher «Lecture seule» dans la modale.\nUtilisez alors ce lien en tant que «source navigateur web» dans OBS.\nVous pouvez utiliser l\u0026rsquo;option «Arrière plan transparent (pour l'intégration dans le stream, avec OBS par exemple)» pour obtenir un fond transparent dans OBS. Si vous souhaitez personnaliser la transparence de l\u0026rsquo;arrière-plan, vous pouvez ajouter ce CSS dans les paramètres de la source navigateur dans OBS :\n:root { --livechat-transparent: rgba(255 255 255 / 90%) !important; } Dans l\u0026rsquo;extrait CSS précédent, vous pouvez bien sûr changer la couleur ou la transparence, en adaptant les valeurs de couleur.\nRemarque : vous pouvez personnaliser les couleurs. Ce n\u0026rsquo;est pas encore documenté, mais vous pouvez essayer ceci : dans la fenêtre modale, cochez «utiliser les couleurs actuelles du thème», puis essayez de modifier manuellement les valeurs de couleur dans l\u0026rsquo;URL. Vous devez utiliser des valeurs de couleur CSS valides, et elles doivent être correctement encodées dans l\u0026rsquo;URL.\nMélanger plusieurs tchats dans votre flux en direct Vous pouvez utiliser l\u0026rsquo;extension social_stream browser extension pour mélanger plusieurs sources de tchat (Peertube, Twitch, Youtube, Facebook, \u0026hellip;) et inclure leurs contenus dans votre flux en direct. La compatibilité avec ce plugin a été ajoutée dans les versions récentes.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/document/","title":"Documentation","tags":[],"description":"Documenter le plugin, ou traduire la documentation.","content":"Généralités Toujours vous annoncer avant de commencer à travailler (en créant un ticket ou en commentant un ticket existant). Ceci afin d\u0026rsquo;éviter que plusieurs personnes travaillent sur la même chose et entrent en conflit.\nLe travail de documentation se fait sur la branche main.\nLe code source de la documentation se trouve dans le dossier support/documentation/content du dépot de code.\nLa documentation est générée via l\u0026rsquo;outils Hugo. Celui-ci doit être installé sur votre machine pour pouvoir prévisualiser la documentation.\nLe thème utilisé est hugo-theme-learn. Il est recommandé d\u0026rsquo;en lire la documentation avant de commencer.\nQuand une version du plugin est publiée, ou quand la documentation est mise à jour, les mainteneur⋅euses du plugin fusionnerons la branche main dans la branche documentation. Ce qui aura pour effet de déclencher les pipelines github et gitlab pour mettre à jour les versions publiées.\nTraductions La langue principale est l\u0026rsquo;anglais (code en).\nLe dossier support/documentation/content/enne contient que les fichiers de documentation en anglais.\nLa documentation est traduite en utilisant Weblate (voir la documentation sur la traduction). Pour cela, on utilise l\u0026rsquo;outils po4a, comme nous le verrons plus loin dans cette page.\nAjout d\u0026rsquo;une nouvelle langue Dans le fichier support/documentation/config.toml, inspirez vous de la section [Languages.fr] pour déclarer la nouvelle langue.\nSi les traductions ne sont pas complètes, ce n\u0026rsquo;est pas grave, la version anglaise sera utilisée pour les chaînes manquantes.\nPrévisualiser Pour prévisualiser vos modification, il suffit de lancer :\nhugo serve -s support/documentation/ Puis d\u0026rsquo;ouvrir votre navigateur à l\u0026rsquo;adresse http://localhost:1313/peertube-plugin-livechat/. Cette page se raffraichira automatiquement à chaque modification.\nMettre à jour les fichiers de localisation et générer les traductions de la documentation Pour l\u0026rsquo;instant, vous n\u0026rsquo;avez que la version anglaise. Pour mettre à jour les chaînes et générer les traductions, vous devez lancer le script doc-translate.sh.\nPour cela, assurez vous d\u0026rsquo;avoir po4a (version \u0026gt;= 0.69) installé sur votre ordinateur.\nCertaines distributions linux (comme Debian Bullseye par exemple) ont une version trop ancienne de po4a. Veillez à installer une version compatible. Si vous utilisez Debian Bullseye par exemple, vous pouvez télécharger le fichier Bookworm po4a.deb depuis https://packages.debian.org, et l\u0026rsquo;installer manuellement.\n Pour gérer les traductions, il suffit de faire :\nnpm run doc:translate Vous pouvez ensuite prévisualiser le résultat en utilisant hugo serve -s support/documentation/, et en utilisant le sélecteur de langue.\nÉcrire la documentation Éditez seulement les fichiers anglais dans support/documentation/content/en.\nEnsuite, avant de commiter, lancez toujours npm run doc:translate, afin que les changements dans les fichiers anglais puissent être propagés dans le fichier support/documentation/po/livechat.en.pot.\nVous pouvez utiliser le code court livechat_label pour utiliser des chaînes de l\u0026rsquo;application. Voir ici : Traduction de la documentation.\nIl est possible d\u0026rsquo;empêcher un fichier d\u0026rsquo;être traduit, en utilisant livechatnotranslation : true dans la section Yaml Font Matter. Voir ici : Traduction de la documentation.\nVeuillez utiliser l\u0026rsquo;option livechatnotranslation pour la documentation technique. Nous ne voulons pas traduire la documentation technique, afin d\u0026rsquo;éviter les problèmes liés à une mauvaise traduction.\nPour faciliter le travail des traducteur⋅rices, évitez de faire des paragraphes trop longs.\nPour l\u0026rsquo;instant il n\u0026rsquo;est pas possible d\u0026rsquo;utiliser des tableaux Markdown : les outils de translation ne savent pas les gérer.\nIl peut y avoir des liens vers la documentation ailleurs sur le web. Essayez de ne pas changer les urls des pages de documentation. Ou au moins, mettez des liens vers les nouvelles pages dans les anciennes urls.\n Que faire si je ne peux pas utiliser hugo et/ou po4a ? Il suffit d\u0026rsquo;éditer les fichiers markdown en anglais, et de spécifier que vous ne pouvez pas compiler les traductions lorsque vous faites votre Pull Request.\nPublication La publication de la documentation est automatique, dès que les modifications sont fusionnées dans la branche documentation.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/installation/upgrade_before_6.0.0/","title":"Mise à jour depuis une version antérieure à 6.0.0","tags":[],"description":"Notes importantes pour la mise à jour depuis une ancienne version du plugin.","content":"IMPORTANT NOTE Depuis la version v6.0.0, ce plugin ne nécessite plus l\u0026rsquo;installation de Prosody.\nSi vous utilisiez ce plugin avant, et que vous aviez installé Prosody manuellement, vous pouvez le désinstaller en tout sécurité.\nSi vous utilisiez l\u0026rsquo;image docker spéciale de Peertube (qui incluais Prosody), vous pouvez basculer sur l\u0026rsquo;image officielle de Peertube.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/technical/data/","title":"Plugin storage","tags":[],"description":"Data files and folders used on the server","content":"The livechat plugin stores some data on the server, in the /var/www/peertube/storage/plugins/data/peertube-plugin-livechat/ folder. This page describes these data.\nprosody The prosody folder is used by the Prosody XMPP server to store its data and logs.\nprosodyAppImage This plugin uses the Prosoxy XMPP server in background. This server code is embedded as an AppImage.\nWhen the plugin starts, it deflate this AppImage in the prosodyAppImage folder.\nserverInfos To handle federation between Peertube instances, the plugin needs to store some information concerning remote instances (available protocols, \u0026hellip;).\nThe plugin stores these data in the serverInfos/instance_uri folder (where instance_uri is replaced by the instance uri).\nIn each instance\u0026rsquo;s folder, there can be these files:\n last-update: json file containing the timestamp of the last information update. So we can avoid refreshing too often. ws-s2s: if the server allows XMPP S2S Websocket connections, here are the endpoint information s2s: if the server allows direct XMPP S2S connections, here are the port and url information  videoInfos To handle federation the plugin needs to store some information about remote videos.\nSo, each time we open a new remote chat, a file videoInfos/remote/instance_uri/video_uuid.json is created (where instance_uri is the origin instance uri, and video_uuid is the video uuid).\nThis JSON files contain some data about the remote chat (is it enabled, are anonymous users authorized, which protocol can we use, \u0026hellip;). These data can then be read by the Prosody server to connect to the remote chat.\nMoreover, when the current instance builds such data for local videos, it stores it in videoInfos/local/video_uuid.json (where video_uuid is the video uuid).\nchannelConfigurationOptions The channelConfigurationOptions folder contains JSON files describing channels advanced configuration. Filenames are like 1.json where 1 is the channel id. The content of the files are similar to the content sent by the front-end when saving these configuration.\nroom-channel/muc_domain.json Some parts of the plugin need a quick way to get the channel id from the room Jabber ID, or the all room Jabber ID from a channel id. We won\u0026rsquo;t use SQL queries, because we only want such information for video that have a chatroom.\nSo we will store in the room-channel/muc_domain.json file (where muc_domain is the current MUC domain, something like room.instance.tld) a JSON object representing these relations).\nIn the JSON object, keys are the channel ID (as string), values are arrays of strings representing the rooms JIDs local part (without the MUC domain).\nWhen a chatroom is created, the corresponding entry will be added.\nHere is a sample file:\n{ \u0026#34;1\u0026#34;: [ \u0026#34;8df24108-6e70-4fc8-b1cc-f2db7fcdd535\u0026#34; ] } This file is loaded at the plugin startup into an object that can manipulate these data.\nSo we can easily list all rooms for a given channel id or get the channel id for a room JID (Jabber ID).\nNote: we include the MUC domain (room.instance.tld) in the filename in case the instance domain changes. In such case, existing rooms could get lost, and we want a way to ignore them to avoid gettings errors.\nNote: there could be some inconsistencies, when video or rooms are deleted. The code must take this into account, and always double check room or channel existence. There will be some cleaning batch, to delete deprecated files.\nbot/muc_domain The bot/muc_domain (where muc_domain is the current MUC domain) folder contains configuration files that are read by the moderation bot. This bot uses the xmppjs-chat-bot package.\nNote: we include the MUC domain (room.instance.tld) in the dirname in case the instance domain changes. In such case, existing rooms could get lost, and we want a way to ignore them to avoid gettings errors.\nbot/muc_domain/moderation.json The bot/muc_domain/moderation.json file contains the moderation bot global configuration. This bot uses the xmppjs-chat-bot package, see it\u0026rsquo;s README file for more information.\nNote: this includes the bot username and password. Don\u0026rsquo;t let it leak.\nbot/muc_domain/rooms The bot/muc_domain/rooms folder contains room configuration files. See the xmppjs-chat-bot package help for more information.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/admin/advanced/matterbridge/","title":"Utiliser Matterbridge","tags":[],"description":"Utiliser Matterbridge pour faire un pont vers d&#39;autres tchats","content":"Voici un tutoriel sur comment utiliser Matterbridge avec ce plugin : https://gitlab.com/refrac/obs-matterbridge-overlay/-/blob/master/documentation/peertube.md\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/xmpp_clients/","title":"Clients XMPP","tags":[],"description":"Se connecter au tchat avec un client XMPP","content":"Ce module de tchat repose sur le protocole XMPP, aussi connu sous le nom de Jabber. Il est donc possible de se connecter aux tchats en utilisant des logiciels clients XMPP. Cela peut par exemple être utile pour faciliter les opérations de modération.\nLes fonctions décrites dans cette page doivent être activées et configurées par les administrateur⋅rices de votre instance Peertube. Il se peut donc que vous n\u0026rsquo;y ayez pas accès.\n Connexion à votre compte Peertube Cette fonctionnalité n\u0026rsquo;est pas encore disponible, et viendra dans une prochaine version du plugin.\n Connexion en utilisant un compte XMPP externe Si cette fonctionnalité est activée sur votre instance, vous pouvez vous connecter aux tchats Peertube en utilisant un compte XMPP quelconque.\nPour obtenir l\u0026rsquo;adresse du salon à rejoindre, vous pouvez utiliser la fenêtre de «partage» du tchat, dont le bouton est situé au dessus du tchat :\nPar défaut, le bouton de partage n\u0026rsquo;est visible que pour le ou la propriétaire de la vidéo, et les admins/modérateur⋅rices de l\u0026rsquo;instance. Toutefois, les admins peuvent décider d\u0026rsquo;afficher ce bouton pour tout le monde.\n Ensuite, dans la modale qui s\u0026rsquo;affiche, choississez «Connexion avec un client XMPP» :\nIl vous suffit ensuite, soit de cliquer sur «ouvrir», soit de copier/coller l\u0026rsquo;adresse du salon dans votre client XMPP (en utilisant la fonctionnalité «rejoindre un salon»).\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contributing/","title":"Contribuer","tags":[],"description":"Contribuer","content":"Intéressé⋅e pour contribuer ? Super !\n Code de conduite  Convention de Code de conduite Contributeur⋅rices\n   Traduction  Traduire le plugin\n   Donnez vos retours  Donnez vos retours\n   Développer  Développer\n   Documentation  Documenter le plugin, ou traduire la documentation.\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/documentation/user/streamers/moderation/","title":"Modération","tags":[],"description":"Fonctionnalités de modération avancées du plugin peertube-plugin-livechat","content":" Cette section est encore incomplète.\n Le bot de tchat Vous pouvez utiliser un bot de tchat, qui vous aidera pour la modération. Veuillez vous référer à la documentation du bot de tchat pour plus d\u0026rsquo;informations.\nAccéder aux outils de modération Vous pouvez accéder aux paramètres de la salle et aux outils de modération en ouvrant le tchat dans une nouvelle fenêtre, et en utilisant le menu déroulant en haut à droite.\nTous les modérateur⋅rices et administrateur⋅rices de l\u0026rsquo;instance seront propriétaires des salons de discussion créés. Le ou la propriétaire de la vidéo sera admin du salon.\n Vous pouvez utiliser les commandes de modération ConverseJS pour modérer le salon. Lorsque vous ouvrez la salle de discussion en plein écran, un menu avec des commandes dédiées s\u0026rsquo;affiche en haut à droite.\nRôles et affiliations Il y a différents rôles qui peuvent être assignés aux utilisateur⋅rices dans les salons de discussion : propriétaire, modérateur⋅rice, membre, \u0026hellip;\nCette section est encore incomplète.\n Vous pouvez promouvoir des utilisateur⋅rices en tant que modérateur⋅rices, si vous avez besoin d\u0026rsquo;aide.\nSupprimer le contenu des salons Vous pouvez supprimer d\u0026rsquo;anciennes salles : rejoignez la salle, et utilisez le menu en haut pour détruire la salle.\nModération de l\u0026rsquo;instance En tant que modérateur⋅rice ou administrateur⋅rice de l\u0026rsquo;instance Peertube, vous allez probablement vouloir vérifier que les utilisateur⋅rices n\u0026rsquo;ont pas de comportement problématique.\nVous pouvez lister toutes les salles de discussion existantes : dans l\u0026rsquo;écran des paramètres du plugin, il y a un bouton \u0026ldquo;Lister les salles\u0026rdquo;.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/issues/","title":"Évolutions / Bugs","tags":[],"description":"Évolutions / suivi des bugs","content":"Si vous avez des demandes de nouvelles fonctionnalités, des bugs, ou des difficultés à installer et utiliser le plugin, vous pouvez utiliser l\u0026rsquo;outils Github issue tracker. Si possible, merci d\u0026rsquo;y écrire en anglais ; mais le français sera accepté.\nPour avoir un aperçu de la feuille de routes pour les fonctionnalités à venir, vous pouvez vous référer à :\n ce projet github. les jalons sur github.  Si vous êtes webdesigner ou avez une expertise en ConverseJS/Prosody/XMPP et souhaitez participer à l\u0026rsquo;évolution de ce plugin, n\u0026rsquo;hésitez pas à me contacter.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/technical/","title":"Technical documentation","tags":[],"description":"Technical documentation","content":"  Source code  Source code organization\n   Third party  Displaying the livechat with 3rd party software.\n   Plugin storage  Data files and folders used on the server\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/contact/","title":"Me contacter","tags":[],"description":"Contacter l&#39;auteur","content":"Si vous avez des questions ou souhaitez parler de ce plugin, vous pouvez rejoindre ce salon XMPP avec n\u0026rsquo;importe quel client Jabber : plugin-livechat-support@room.im.yiny.org.\nSi vous souhaitez supporter le projet financièrement, vous pouvez me contacter par mail à l\u0026rsquo;adresse git.[arobase].john-livingston.fr, ou passer par mon profil Liberapay.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/credits/","title":"Crédits","tags":[],"description":"Crédits pour le plugin","content":"Les fichiers package.json, COPYRIGHT et LICENSE contiennent les informations sur la licence du présent logiciel (en anglais).\nLe plugin est maintenu par John Livingston.\nMerci à David Revoy pour son travail sur la mascotte de Peertube, Sepia. Le character design est en licence CC-By, et les fichiers SVG utilisés pour créer certains logos et avatars en GPLv3.0.\nMerci à Framasoft pour avoir rendu Peertube possible, pour le support financier, et pour héberger les traductions du projet sur leur instance Weblate.\nMerci à ritimo pour le support financier.\nMerci à Code Lutin et à la Rétribution Copie Publique pour le support financier.\nMerci à NlNet et au fond NGI0 Entrust pour le support financier.\n"},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/","title":"","tags":[],"description":"","content":"PeerTube plugin livechat Vous pouvez utiliser le sélecteur de langue dans le menu de gauche pour afficher cette documentation dans différentes langues. Certaines traductions sont manquantes ou incomplètes. Dans ce cas, vous verrez la version anglaise du texte.\n Bienvenue sur la documentation du Plugin Peertube Livechat.\nPeertube est une plateforme de streaming décentralisée, qui peut permettre de diffuser aussi bien des directs que de la vidéo à la demande (VOD : Video On Demand). Ce plugin permet d\u0026rsquo;ajouter la possibilité de tchatter à votre installation Peertube, permettant ainsi des interactions avec les streameur⋅euses.\nPour avoir un aperçu des possibilités de ce plugin, aller jeter un œil à l\u0026rsquo;introduction. Pour des informations plus précises, vous trouverez plus bas le sommaire de cette documentation.\nVous pouvez utiliser la barre de recherche dans le menu gauche pour rapidement trouver des documentations spécifiques.\n Avant de mettre à jour le plugin vers une nouvelle version majeure, merci de lire les notes de version, et la liste des éventuelles modifications non rétro-compatibles : CHANGELOG.\n  Introduction  Introduction\n   Documentation  Documentation du plugin\n  Documentation utilisateur⋅rice  Documentation utilisateur⋅rice du plugin peertube-plugin-livechat\n  Pour les spectateur⋅rices  Comment tchater pour les spectateur⋅rices\n   Pour les streameur⋅euses  Comment mettre en place le tchat pour vos diffusions en direct\n  Quelques basiques  Quelques basiques sur comment configurer et utiliser le tchat pour vos directs\n Configuration de la chaîne  Configuration des salons de discussion des chaînes Peertube\n Bot de tchat  Configuration du bot de tchat\n Modération  Fonctionnalités de modération avancées du plugin peertube-plugin-livechat\n  OBS  Documentation pour diffuser le contenu du tchat à l\u0026#39;aide d\u0026#39;OBS.\n   Clients XMPP  Se connecter au tchat avec un client XMPP\n    Documentation d\u0026#39;installation  Installation du plugin peertube-plugin-livechat\n  En cas de problème  Quelques erreurs classiques, et solutions de contournement.\n   Problème connu : compatibilité CPU  Pour l\u0026#39;instant le plugin ne supporte de base que les architectures CPU x86_64 et arm64. Veuillez trouver ici des instructions pour le faire fonctionner sur d\u0026#39;autres architectures CPU.\n   Mise à jour depuis une version antérieure à 6.0.0  Notes importantes pour la mise à jour depuis une ancienne version du plugin.\n    Admin documentation  Administration du Plugin Peertube Livechat\n  Paramètres  Paramètres du Plugin Peertube Livechat\n   Usage avancé  Quelques fonctionnalités avancées\n  Clients XMPP  Autoriser la connexion en utilisant des clients XMPP\n Utiliser Matterbridge  Utiliser Matterbridge pour faire un pont vers d\u0026#39;autres tchats\n    Contribuer  Contribuer\n  Code de conduite  Convention de Code de conduite Contributeur⋅rices\n   Traduction  Traduire le plugin\n   Donnez vos retours  Donnez vos retours\n   Développer  Développer\n   Documentation  Documenter le plugin, ou traduire la documentation.\n    Évolutions / Bugs  Évolutions / suivi des bugs\n   Technical documentation  Technical documentation\n  Source code  Source code organization\n   Third party  Displaying the livechat with 3rd party software.\n   Plugin storage  Data files and folders used on the server\n    Me contacter  Contacter l\u0026#39;auteur\n   Crédits  Crédits pour le plugin\n   "},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://johnxlivingston.github.io/peertube-plugin-livechat/fr/tags/","title":"Tags","tags":[],"description":"","content":""}]